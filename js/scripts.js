"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var s=e.data(this[0],"validator");return s||(this.attr("novalidate","novalidate"),s=new e.validator(t,this[0]),e.data(this[0],"validator",s),s.settings.onsubmit&&(this.on("click.validate",":submit",function(t){s.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(s.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(s.cancelSubmit=!0)}),this.on("submit.validate",function(t){function i(){var i,n;return s.submitButton&&(s.settings.submitHandler||s.formSubmitted)&&(i=e("<input type='hidden'/>").attr("name",s.submitButton.name).val(e(s.submitButton).val()).appendTo(s.currentForm)),!(s.settings.submitHandler&&!s.settings.debug)||(n=s.settings.submitHandler.call(s,s.currentForm,t),i&&i.remove(),void 0!==n&&n)}return s.settings.debug&&t.preventDefault(),s.cancelSubmit?(s.cancelSubmit=!1,i()):s.form()?s.pendingRequest?(s.formSubmitted=!0,!1):i():(s.focusInvalid(),!1)})),s)},valid:function(){var t,s,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,s=e(this[0].form).validate(),this.each(function(){t=s.element(this)&&t,t||(i=i.concat(s.errorList))}),s.errorList=i),t},rules:function(t,s){var i,n,r,a,o,l,h=this[0],d=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=h&&(!h.form&&d&&(h.form=this.closest("form")[0],h.name=this.attr("name")),null!=h.form)){if(t)switch(i=e.data(h.form,"validator").settings,n=i.rules,r=e.validator.staticRules(h),t){case"add":e.extend(r,e.validator.normalizeRule(s)),delete r.messages,n[h.name]=r,s.messages&&(i.messages[h.name]=e.extend(i.messages[h.name],s.messages));break;case"remove":return s?(l={},e.each(s.split(/\s/),function(e,t){l[t]=r[t],delete r[t]}),l):(delete n[h.name],r)}return a=e.validator.normalizeRules(e.extend({},e.validator.classRules(h),e.validator.attributeRules(h),e.validator.dataRules(h),e.validator.staticRules(h)),h),a.required&&(o=a.required,delete a.required,a=e.extend({required:o},a)),a.remote&&(o=a.remote,delete a.remote,a=e.extend(a,{remote:o})),a}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var s=e(t).val();return null!==s&&!!e.trim(""+s)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,s){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=s,this.init()},e.validator.format=function(t,s){return 1===arguments.length?function(){var s=e.makeArray(arguments);return s.unshift(t),e.validator.format.apply(this,s)}:void 0===s?t:(arguments.length>2&&s.constructor!==Array&&(s=e.makeArray(arguments).slice(1)),s.constructor!==Array&&(s=[s]),e.each(s,function(e,s){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return s})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,s){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===s.which&&""===this.elementValue(t)||-1!==e.inArray(s.keyCode,i)||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,s,i){"radio"===t.type?this.findByName(t.name).addClass(s).removeClass(i):e(t).addClass(s).removeClass(i)},unhighlight:function(t,s,i){"radio"===t.type?this.findByName(t.name).removeClass(s).addClass(i):e(t).removeClass(s).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var s=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");if(!this.form&&s&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name")),i===this.form){var n=e.data(this.form,"validator"),r="on"+t.type.replace(/^validate/,""),a=n.settings;a[r]&&!e(this).is(a.ignore)&&a[r].call(n,this,t)}}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var s,i=this.currentForm,n=this.groups={};e.each(this.settings.groups,function(t,s){"string"==typeof s&&(s=s.split(/\s/)),e.each(s,function(e,s){n[s]=t})}),s=this.settings.rules,e.each(s,function(t,i){s[t]=e.validator.normalizeRule(i)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var s,i,n=this.clean(t),r=this.validationTargetFor(n),a=this,o=!0;return void 0===r?delete this.invalid[n.name]:(this.prepareElement(r),this.currentElements=e(r),i=this.groups[r.name],i&&e.each(this.groups,function(e,t){t===i&&e!==r.name&&(n=a.validationTargetFor(a.clean(a.findByName(e))))&&n.name in a.invalid&&(a.currentElements.push(n),o=a.check(n)&&o)}),s=!1!==this.check(r),o=o&&s,this.invalid[r.name]=!s,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!s)),o},showErrors:function(t){if(t){var s=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:s.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,s=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&s++;return s},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,s={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var i=this.name||e(this).attr("name"),n=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");return!i&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),n&&(this.form=e(this).closest("form")[0],this.name=i),this.form===t.currentForm&&(!(i in s||!t.objectLength(e(this).rules()))&&(s[i]=!0,!0))})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var s,i,n=e(t),r=t.type,a=void 0!==n.attr("contenteditable")&&"false"!==n.attr("contenteditable");return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&void 0!==t.validity?t.validity.badInput?"NaN":n.val():(s=a?n.text():n.val(),"file"===r?"C:\\fakepath\\"===s.substr(0,12)?s.substr(12):(i=s.lastIndexOf("/"))>=0?s.substr(i+1):(i=s.lastIndexOf("\\"),i>=0?s.substr(i+1):s):"string"==typeof s?s.replace(/\r/g,""):s)},check:function(t){t=this.validationTargetFor(this.clean(t));var s,i,n,r,a=e(t).rules(),o=e.map(a,function(e,t){return t}).length,l=!1,h=this.elementValue(t);"function"==typeof a.normalizer?r=a.normalizer:"function"==typeof this.settings.normalizer&&(r=this.settings.normalizer),r&&(h=r.call(t,h),delete a.normalizer);for(i in a){n={method:i,parameters:a[i]};try{if("dependency-mismatch"===(s=e.validator.methods[i].call(this,h,t,n.parameters))&&1===o){l=!0;continue}if(l=!1,"pending"===s)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!s)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!l)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(t,s){return e(t).data("msg"+s.charAt(0).toUpperCase()+s.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var s=this.settings.messages[e];return s&&(s.constructor===String?s:s[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,s){"string"==typeof s&&(s={method:s});var i=this.findDefined(this.customMessage(t.name,s.method),this.customDataMessage(t,s.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[s.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,s.parameters,t):n.test(i)&&(i=e.validator.format(i.replace(n,"{$1}"),s.parameters)),i},formatAndAdd:function(e,t){var s=this.defaultMessage(e,t);this.errorList.push({message:s,element:e,method:t.method}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,s;for(e=0;this.errorList[e];e++)s=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,s.element,this.settings.errorClass,this.settings.validClass),this.showLabel(s.element,s.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,s){var i,n,r,a,o=this.errorsFor(t),l=this.idOrName(t),h=e(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(s)):(o=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(s||""),i=o,this.settings.wrapper&&(i=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,e(t)):i.insertAfter(t),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=o.attr("id"),h?h.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(h+=" "+r):h=r,e(t).attr("aria-describedby",h),(n=this.groups[t.name])&&(a=this,e.each(a.groups,function(t,s){s===n&&e("[name='"+a.escapeCssMeta(t)+"']",a.currentForm).attr("aria-describedby",o.attr("id"))})))),!s&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var s=this.escapeCssMeta(this.idOrName(t)),i=e(t).attr("aria-describedby"),n="label[for='"+s+"'], label[for='"+s+"'] *";return i&&(n=n+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,s){switch(s.nodeName.toLowerCase()){case"select":return e("option:selected",s).length;case"input":if(this.checkable(s))return this.findByName(s.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[void 0===e?"undefined":_typeof(e)]||this.dependTypes[void 0===e?"undefined":_typeof(e)](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,s){return!!e(t,s.form).length},function:function(e,t){return e(t)}},optional:function(t){var s=this.elementValue(t);return!e.validator.methods.required.call(this,s,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,s){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),s&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!s&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,s){return s="string"==typeof s&&s||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:s})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,s){t.constructor===String?this.classRuleSettings[t]=s:e.extend(this.classRuleSettings,t)},classRules:function(t){var s={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(s,e.validator.classRuleSettings[this])}),s},normalizeAttributeRule:function(e,t,s,i){/min|max|step/.test(s)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[s]=i:t===s&&"range"!==t&&(e[s]=!0)},attributeRules:function(t){var s,i,n={},r=e(t),a=t.getAttribute("type");for(s in e.validator.methods)"required"===s?(i=t.getAttribute(s),""===i&&(i=!0),i=!!i):i=r.attr(s),this.normalizeAttributeRule(n,a,s,i);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var s,i,n={},r=e(t),a=t.getAttribute("type");for(s in e.validator.methods)i=r.data("rule"+s.charAt(0).toUpperCase()+s.substring(1).toLowerCase()),""===i&&(i=!0),this.normalizeAttributeRule(n,a,s,i);return n},staticRules:function(t){var s={},i=e.data(t.form,"validator");return i.settings.rules&&(s=e.validator.normalizeRule(i.settings.rules[t.name])||{}),s},normalizeRules:function(t,s){return e.each(t,function(i,n){if(!1===n)return void delete t[i];if(n.param||n.depends){var r=!0;switch(_typeof(n.depends)){case"string":r=!!e(n.depends,s.form).length;break;case"function":r=n.depends.call(s,s)}r?t[i]=void 0===n.param||n.param:(e.data(s.form,"validator").resetElements(e(s)),delete t[i])}}),e.each(t,function(i,n){t[i]=e.isFunction(n)&&"normalizer"!==i?n(s):n}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var s;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(s=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(s[0]),Number(s[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var s={};e.each(t.split(/\s/),function(){s[this]=!0}),t=s}return t},addMethod:function(t,s,i){e.validator.methods[t]=s,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],s.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,s,i){if(!this.depend(i,s))return"dependency-mismatch";if("select"===s.nodeName.toLowerCase()){var n=e(s).val();return n&&n.length>0}return this.checkable(s)?this.getLength(t,s)>0:void 0!==t&&null!==t&&t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(){var e=!1;return function(t,s){return e||(e=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(s)||!/Invalid|NaN/.test(new Date(t).toString())}}(),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,s,i){var n=e.isArray(t)?t.length:this.getLength(t,s);return this.optional(s)||n>=i},maxlength:function(t,s,i){var n=e.isArray(t)?t.length:this.getLength(t,s);return this.optional(s)||n<=i},rangelength:function(t,s,i){var n=e.isArray(t)?t.length:this.getLength(t,s);return this.optional(s)||n>=i[0]&&n<=i[1]},min:function(e,t,s){return this.optional(t)||e>=s},max:function(e,t,s){return this.optional(t)||e<=s},range:function(e,t,s){return this.optional(t)||e>=s[0]&&e<=s[1]},step:function(t,s,i){var n,r=e(s).attr("type"),a="Step attribute on input type "+r+" is not supported.",o=["text","number","range"],l=new RegExp("\\b"+r+"\\b"),h=r&&!l.test(o.join()),d=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},u=function(e){return Math.round(e*Math.pow(10,n))},c=!0;if(h)throw new Error(a);return n=d(i),(d(t)>n||u(t)%u(i)!=0)&&(c=!1),this.optional(s)||c},equalTo:function(t,s,i){var n=e(i);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(s).valid()}),t===n.val()},remote:function(t,s,i,n){if(this.optional(s))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var r,a,o,l=this.previousValue(s,n);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[s.name][n],this.settings.messages[s.name][n]=l.message,i="string"==typeof i&&{url:i}||i,o=e.param(e.extend({data:t},i.data)),l.old===o?l.valid:(l.old=o,r=this,this.startRequest(s),a={},a[s.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+s.name,dataType:"json",data:a,context:r.currentForm,success:function(e){var i,a,o,h=!0===e||"true"===e;r.settings.messages[s.name][n]=l.originalMessage,h?(o=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(s),r.formSubmitted=o,r.successList.push(s),r.invalid[s.name]=!1,r.showErrors()):(i={},a=e||r.defaultMessage(s,{method:n,parameters:t}),i[s.name]=l.message=a,r.invalid[s.name]=!0,r.showErrors(i)),l.valid=h,r.stopRequest(s,h)}},i)),"pending")}}});var t,s={};return e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var n=e.port;"abort"===e.mode&&(s[n]&&s[n].abort(),s[n]=i)}):(t=e.ajax,e.ajax=function(i){var n=("mode"in i?i:e.ajaxSettings).mode,r=("port"in i?i:e.ajaxSettings).port;return"abort"===n?(s[r]&&s[r].abort(),s[r]=t.apply(this,arguments),s[r]):t.apply(this,arguments)}),e}),function(e,t,s){function i(e){var i=t(".message-form-btn-send-message");return{$element:e.element,formData:{mailType:"contact_form_message",form_data:{}},sendMessage:function(e,i){var n=this;n.formData.form_data={},t.each(n.$element.serializeArray(),function(){n.formData.form_data[this.name]=this.value}),t.ajax({type:"POST",url:s.ajaxurl+"?action=send_mail",data:JSON.stringify(n.formData),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){t.result?(n._sendMessageSuccess(t),e&&e()):n._sendMessageError()},error:function(){n._sendMessageError(),i&&i()}})},_sendMessageSuccess:function(){i.off("click"),i.addClass("is-valid"),t(location).attr("href",window.location.href.match(/^.*\//)+"/message-successfully-sent")},_sendMessageError:function(){i.addClass("is-invalid"),this.$element.removeClass("was-validated")}}}t(document).ready(function(e){e("#message-form").submit(function(e){e.preventDefault()}),e("#message-form").validate({submitHandler:function(t){new i({element:e("#message-form")}).sendMessage()},rules:{name:{required:!0},email:{required:!0,email:!0},message:{required:!0}},messages:{name:"Please enter your name",email:"Please enter a valid email address",message:"Please enter your message"}})})}(window,jQuery,wp_var);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS52YWxpZGF0ZS5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsIm1vZHVsZSIsIl90eXBlb2YiLCJleHBvcnRzIiwicmVxdWlyZSIsImpRdWVyeSIsIiQiLCJleHRlbmQiLCJmbiIsInZhbGlkYXRlIiwib3B0aW9ucyIsInRoaXMiLCJsZW5ndGgiLCJkZWJ1ZyIsIndpbmRvdyIsImNvbnNvbGUiLCJ3YXJuIiwidmFsaWRhdG9yIiwiZGF0YSIsImF0dHIiLCJzZXR0aW5ncyIsIm9uc3VibWl0Iiwib24iLCJldmVudCIsInN1Ym1pdEJ1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJoYXNDbGFzcyIsImNhbmNlbFN1Ym1pdCIsInVuZGVmaW5lZCIsImhhbmRsZSIsImhpZGRlbiIsInJlc3VsdCIsInN1Ym1pdEhhbmRsZXIiLCJmb3JtU3VibWl0dGVkIiwibmFtZSIsInZhbCIsImFwcGVuZFRvIiwiY3VycmVudEZvcm0iLCJjYWxsIiwicmVtb3ZlIiwicHJldmVudERlZmF1bHQiLCJmb3JtIiwicGVuZGluZ1JlcXVlc3QiLCJmb2N1c0ludmFsaWQiLCJ2YWxpZCIsImVycm9yTGlzdCIsImlzIiwiZWFjaCIsImVsZW1lbnQiLCJjb25jYXQiLCJydWxlcyIsImNvbW1hbmQiLCJhcmd1bWVudCIsInN0YXRpY1J1bGVzIiwiZXhpc3RpbmdSdWxlcyIsInBhcmFtIiwiZmlsdGVyZWQiLCJpc0NvbnRlbnRFZGl0YWJsZSIsImNsb3Nlc3QiLCJub3JtYWxpemVSdWxlIiwibWVzc2FnZXMiLCJzcGxpdCIsImluZGV4IiwibWV0aG9kIiwibm9ybWFsaXplUnVsZXMiLCJjbGFzc1J1bGVzIiwiYXR0cmlidXRlUnVsZXMiLCJkYXRhUnVsZXMiLCJyZXF1aXJlZCIsInJlbW90ZSIsImV4cHIiLCJwc2V1ZG9zIiwiYmxhbmsiLCJhIiwidHJpbSIsImZpbGxlZCIsInVuY2hlY2tlZCIsInByb3AiLCJkZWZhdWx0cyIsImluaXQiLCJmb3JtYXQiLCJzb3VyY2UiLCJwYXJhbXMiLCJhcmd1bWVudHMiLCJhcmdzIiwibWFrZUFycmF5IiwidW5zaGlmdCIsImFwcGx5IiwiY29uc3RydWN0b3IiLCJBcnJheSIsInNsaWNlIiwiaSIsIm4iLCJyZXBsYWNlIiwiUmVnRXhwIiwiZ3JvdXBzIiwiZXJyb3JDbGFzcyIsInBlbmRpbmdDbGFzcyIsInZhbGlkQ2xhc3MiLCJlcnJvckVsZW1lbnQiLCJmb2N1c0NsZWFudXAiLCJlcnJvckNvbnRhaW5lciIsImVycm9yTGFiZWxDb250YWluZXIiLCJpZ25vcmUiLCJpZ25vcmVUaXRsZSIsIm9uZm9jdXNpbiIsImxhc3RBY3RpdmUiLCJ1bmhpZ2hsaWdodCIsImhpZGVUaGVzZSIsImVycm9yc0ZvciIsIm9uZm9jdXNvdXQiLCJjaGVja2FibGUiLCJzdWJtaXR0ZWQiLCJvcHRpb25hbCIsIm9ua2V5dXAiLCJleGNsdWRlZEtleXMiLCJ3aGljaCIsImVsZW1lbnRWYWx1ZSIsImluQXJyYXkiLCJrZXlDb2RlIiwiaW52YWxpZCIsIm9uY2xpY2siLCJwYXJlbnROb2RlIiwiaGlnaGxpZ2h0IiwidHlwZSIsImZpbmRCeU5hbWUiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwic2V0RGVmYXVsdHMiLCJlbWFpbCIsInVybCIsImRhdGUiLCJkYXRlSVNPIiwibnVtYmVyIiwiZGlnaXRzIiwiZXF1YWxUbyIsIm1heGxlbmd0aCIsIm1pbmxlbmd0aCIsInJhbmdlbGVuZ3RoIiwicmFuZ2UiLCJtYXgiLCJtaW4iLCJzdGVwIiwiYXV0b0NyZWF0ZVJhbmdlcyIsInByb3RvdHlwZSIsImRlbGVnYXRlIiwiZXZlbnRUeXBlIiwibGFiZWxDb250YWluZXIiLCJlcnJvckNvbnRleHQiLCJjb250YWluZXJzIiwiYWRkIiwidmFsdWVDYWNoZSIsInBlbmRpbmciLCJyZXNldCIsImtleSIsInZhbHVlIiwiaW52YWxpZEhhbmRsZXIiLCJjaGVja0Zvcm0iLCJlcnJvck1hcCIsInRyaWdnZXJIYW5kbGVyIiwic2hvd0Vycm9ycyIsInByZXBhcmVGb3JtIiwiZWxlbWVudHMiLCJjdXJyZW50RWxlbWVudHMiLCJjaGVjayIsInJzIiwiZ3JvdXAiLCJjbGVhbkVsZW1lbnQiLCJjbGVhbiIsImNoZWNrRWxlbWVudCIsInZhbGlkYXRpb25UYXJnZXRGb3IiLCJ2IiwicHJlcGFyZUVsZW1lbnQiLCJ0ZXN0Z3JvdXAiLCJwdXNoIiwibnVtYmVyT2ZJbnZhbGlkcyIsInRvSGlkZSIsImVycm9ycyIsIm1hcCIsIm1lc3NhZ2UiLCJzdWNjZXNzTGlzdCIsImdyZXAiLCJkZWZhdWx0U2hvd0Vycm9ycyIsInJlc2V0Rm9ybSIsImhpZGVFcnJvcnMiLCJyZW1vdmVEYXRhIiwicmVtb3ZlQXR0ciIsInJlc2V0RWxlbWVudHMiLCJvYmplY3RMZW5ndGgiLCJvYmoiLCJjb3VudCIsIm5vdCIsInRleHQiLCJhZGRXcmFwcGVyIiwiaGlkZSIsInNpemUiLCJmaW5kTGFzdEFjdGl2ZSIsImZpbHRlciIsInRyaWdnZXIiLCJlIiwicnVsZXNDYWNoZSIsImZpbmQiLCJlcnJvciIsInNlbGVjdG9yIiwiam9pbiIsInJlc2V0SW50ZXJuYWxzIiwidG9TaG93IiwiaWR4IiwiJGVsZW1lbnQiLCJ2YWxpZGl0eSIsImJhZElucHV0Iiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJydWxlIiwibm9ybWFsaXplciIsInJ1bGVzQ291bnQiLCJkZXBlbmRlbmN5TWlzbWF0Y2giLCJwYXJhbWV0ZXJzIiwibWV0aG9kcyIsImZvcm1hdEFuZEFkZCIsImxvZyIsImlkIiwiVHlwZUVycm9yIiwiY3VzdG9tRGF0YU1lc3NhZ2UiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0cmluZyIsInRvTG93ZXJDYXNlIiwiY3VzdG9tTWVzc2FnZSIsIm0iLCJTdHJpbmciLCJmaW5kRGVmaW5lZCIsImRlZmF1bHRNZXNzYWdlIiwidGl0bGUiLCJ0aGVyZWdleCIsInRlc3QiLCJ0b1RvZ2dsZSIsIndyYXBwZXIiLCJwYXJlbnQiLCJzaG93TGFiZWwiLCJzdWNjZXNzIiwidmFsaWRFbGVtZW50cyIsInNob3ciLCJpbnZhbGlkRWxlbWVudHMiLCJwbGFjZSIsImVycm9ySUQiLCJlbGVtZW50SUQiLCJpZE9yTmFtZSIsImRlc2NyaWJlZEJ5IiwiaHRtbCIsIndyYXAiLCJhcHBlbmQiLCJlcnJvclBsYWNlbWVudCIsImluc2VydEFmdGVyIiwicGFyZW50cyIsImVzY2FwZUNzc01ldGEiLCJtYXRjaCIsImRlc2NyaWJlciIsInN0cmluZyIsImdldExlbmd0aCIsIm5vZGVOYW1lIiwiZGVwZW5kIiwiZGVwZW5kVHlwZXMiLCJib29sZWFuIiwiZnVuY3Rpb24iLCJzdGFydFJlcXVlc3QiLCJzdG9wUmVxdWVzdCIsInN1Ym1pdCIsInByZXZpb3VzVmFsdWUiLCJvbGQiLCJkZXN0cm95Iiwib2ZmIiwiY2xhc3NSdWxlU2V0dGluZ3MiLCJjcmVkaXRjYXJkIiwiYWRkQ2xhc3NSdWxlcyIsImNsYXNzTmFtZSIsImNsYXNzZXMiLCJub3JtYWxpemVBdHRyaWJ1dGVSdWxlIiwiTnVtYmVyIiwiaXNOYU4iLCJnZXRBdHRyaWJ1dGUiLCJkZXBlbmRzIiwia2VlcFJ1bGUiLCJwYXJhbWV0ZXIiLCJpc0Z1bmN0aW9uIiwicGFydHMiLCJpc0FycmF5IiwidHJhbnNmb3JtZWQiLCJhZGRNZXRob2QiLCJjYWxsZWQiLCJEYXRlIiwidG9TdHJpbmciLCJkZWNpbWFscyIsImVycm9yTWVzc2FnZSIsInN1cHBvcnRlZFR5cGVzIiwicmUiLCJub3RTdXBwb3J0ZWQiLCJkZWNpbWFsUGxhY2VzIiwibnVtIiwidG9JbnQiLCJNYXRoIiwicm91bmQiLCJwb3ciLCJFcnJvciIsInRhcmdldCIsIm9wdGlvbkRhdGFTdHJpbmciLCJwcmV2aW91cyIsIm9yaWdpbmFsTWVzc2FnZSIsImFqYXgiLCJtb2RlIiwicG9ydCIsImRhdGFUeXBlIiwiY29udGV4dCIsInJlc3BvbnNlIiwicGVuZGluZ1JlcXVlc3RzIiwiYWpheFByZWZpbHRlciIsIl8iLCJ4aHIiLCJhYm9ydCIsImFqYXhTZXR0aW5ncyIsImV4cCIsIndwX3ZhciIsIk1lc3NhZ2VGb3JtIiwib3B0aW9uIiwiJGJ1dHRvblNlbmQiLCJmb3JtRGF0YSIsIm1haWxUeXBlIiwiZm9ybV9kYXRhIiwic2VuZE1lc3NhZ2UiLCJzZWxmIiwic2VyaWFsaXplQXJyYXkiLCJhamF4dXJsIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRUeXBlIiwiX3NlbmRNZXNzYWdlU3VjY2VzcyIsIl9zZW5kTWVzc2FnZUVycm9yIiwibG9jYXRpb24iLCJocmVmIiwiZG9jdW1lbnQiLCJyZWFkeSJdLCJtYXBwaW5ncyI6Im9PQVFDLFNBQVVBLEdBQ2Esa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUMzQ0QsUUFBUyxVQUFXRCxHQUNRLFlBQWxCLG1CQUFPRyxRQUFQLFlBQUFDLFFBQU9ELFVBQXVCQSxPQUFPRSxRQUMvQ0YsT0FBT0UsUUFBVUwsRUFBU00sUUFBUyxXQUVuQ04sRUFBU08sU0FFVCxTQUFVQyxHQUVaQSxFQUFFQyxPQUFRRCxFQUFFRSxJQUdYQyxTQUFVLFNBQVVDLEdBR25CLElBQU1DLEtBQUtDLE9BSVYsWUFIS0YsR0FBV0EsRUFBUUcsT0FBU0MsT0FBT0MsU0FDdkNBLFFBQVFDLEtBQU0sd0RBTWhCLElBQUlDLEdBQVlYLEVBQUVZLEtBQU1QLEtBQU0sR0FBSyxZQUNuQyxPQUFLTSxLQUtMTixLQUFLUSxLQUFNLGFBQWMsY0FFekJGLEVBQVksR0FBSVgsR0FBRVcsVUFBV1AsRUFBU0MsS0FBTSxJQUM1Q0wsRUFBRVksS0FBTVAsS0FBTSxHQUFLLFlBQWFNLEdBRTNCQSxFQUFVRyxTQUFTQyxXQUV2QlYsS0FBS1csR0FBSSxpQkFBa0IsVUFBVyxTQUFVQyxHQUkvQ04sRUFBVU8sYUFBZUQsRUFBTUUsY0FHMUJuQixFQUFHSyxNQUFPZSxTQUFVLFlBQ3hCVCxFQUFVVSxjQUFlLE9BSWtCQyxLQUF2Q3RCLEVBQUdLLE1BQU9RLEtBQU0sb0JBQ3BCRixFQUFVVSxjQUFlLEtBSzNCaEIsS0FBS1csR0FBSSxrQkFBbUIsU0FBVUMsR0FPckMsUUFBU00sS0FDUixHQUFJQyxHQUFRQyxDQWNa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VSxvQkFDdEJ6VCxLQUFNMFQsS0FBS0MsVUFBVUosRUFBS0osVUFDMUJTLFlBQWEsa0NBQ2J2QixTQUFVLE9BQ1Z2RSxRQUFTLFNBQVU5TixHQUNYQSxFQUFLYSxRQUNMMFMsRUFBS00sb0JBQW9CN1QsR0FDekI4TixHQUFXQSxLQUVYeUYsRUFBS08scUJBR2J0SSxNQUFPLFdBQ0grSCxFQUFLTyxvQkFDTHRJLEdBQVNBLFFBS3JCcUksb0JBQXFCLFdBQ2pCWCxFQUFZckQsSUFBSSxTQUNoQnFELEVBQVl0TSxTQUFTLFlBRXJCeEgsRUFBRTJVLFVBQVU5VCxLQUFLLE9BQVFMLE9BQU9tVSxTQUFTQyxLQUFLbEYsTUFBTSxTQUFXLCtCQUduRWdGLGtCQUFtQixXQUNmWixFQUFZdE0sU0FBUyxjQUVyQm5ILEtBQUtxTSxTQUFTakYsWUFBWSxtQkFPdEN6SCxFQUFFNlUsVUFBVUMsTUFBTSxTQUFVOVUsR0FFeEJBLEVBQUUsaUJBQWlCcVEsT0FBTyxTQUFVcFAsR0FDaENBLEVBQU1pQixtQkFHVmxDLEVBQUUsaUJBQWlCRyxVQUNmdUIsY0FBZSxTQUFTUyxHQUVGLEdBQUl5UixJQUNsQmxSLFFBQVMxQyxFQUFFLG1CQUVIa1UsZUFFaEJ0UixPQUNJaEIsTUFDSWtDLFVBQVUsR0FFZDZELE9BQ0k3RCxVQUFVLEVBQ1Y2RCxPQUFPLEdBRVhrRCxTQUNJL0csVUFBVSxJQUdsQlIsVUFDSTFCLEtBQU0seUJBQ04rRixNQUFPLHFDQUNQa0QsUUFBUyxrQ0FRdEJySyxPQUFRVCxPQUFRNFQiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4gKiBqUXVlcnkgVmFsaWRhdGlvbiBQbHVnaW4gdjEuMTkuMVxyXG4gKlxyXG4gKiBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgSsO2cm4gWmFlZmZlcmVyXHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKi9cclxuKGZ1bmN0aW9uKCBmYWN0b3J5ICkge1xyXG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XHJcblx0XHRkZWZpbmUoIFtcImpxdWVyeVwiXSwgZmFjdG9yeSApO1xyXG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xyXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCByZXF1aXJlKCBcImpxdWVyeVwiICkgKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZmFjdG9yeSggalF1ZXJ5ICk7XHJcblx0fVxyXG59KGZ1bmN0aW9uKCAkICkge1xyXG5cclxuJC5leHRlbmQoICQuZm4sIHtcblxuXHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL3ZhbGlkYXRlL1xuXHR2YWxpZGF0ZTogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBJZiBub3RoaW5nIGlzIHNlbGVjdGVkLCByZXR1cm4gbm90aGluZzsgY2FuJ3QgY2hhaW4gYW55d2F5XG5cdFx0aWYgKCAhdGhpcy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoIG9wdGlvbnMgJiYgb3B0aW9ucy5kZWJ1ZyAmJiB3aW5kb3cuY29uc29sZSApIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKCBcIk5vdGhpbmcgc2VsZWN0ZWQsIGNhbid0IHZhbGlkYXRlLCByZXR1cm5pbmcgbm90aGluZy5cIiApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIGEgdmFsaWRhdG9yIGZvciB0aGlzIGZvcm0gd2FzIGFscmVhZHkgY3JlYXRlZFxuXHRcdHZhciB2YWxpZGF0b3IgPSAkLmRhdGEoIHRoaXNbIDAgXSwgXCJ2YWxpZGF0b3JcIiApO1xuXHRcdGlmICggdmFsaWRhdG9yICkge1xuXHRcdFx0cmV0dXJuIHZhbGlkYXRvcjtcblx0XHR9XG5cblx0XHQvLyBBZGQgbm92YWxpZGF0ZSB0YWcgaWYgSFRNTDUuXG5cdFx0dGhpcy5hdHRyKCBcIm5vdmFsaWRhdGVcIiwgXCJub3ZhbGlkYXRlXCIgKTtcblxuXHRcdHZhbGlkYXRvciA9IG5ldyAkLnZhbGlkYXRvciggb3B0aW9ucywgdGhpc1sgMCBdICk7XG5cdFx0JC5kYXRhKCB0aGlzWyAwIF0sIFwidmFsaWRhdG9yXCIsIHZhbGlkYXRvciApO1xuXG5cdFx0aWYgKCB2YWxpZGF0b3Iuc2V0dGluZ3Mub25zdWJtaXQgKSB7XG5cblx0XHRcdHRoaXMub24oIFwiY2xpY2sudmFsaWRhdGVcIiwgXCI6c3VibWl0XCIsIGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBUcmFjayB0aGUgdXNlZCBzdWJtaXQgYnV0dG9uIHRvIHByb3Blcmx5IGhhbmRsZSBzY3JpcHRlZFxuXHRcdFx0XHQvLyBzdWJtaXRzIGxhdGVyLlxuXHRcdFx0XHR2YWxpZGF0b3Iuc3VibWl0QnV0dG9uID0gZXZlbnQuY3VycmVudFRhcmdldDtcblxuXHRcdFx0XHQvLyBBbGxvdyBzdXBwcmVzc2luZyB2YWxpZGF0aW9uIGJ5IGFkZGluZyBhIGNhbmNlbCBjbGFzcyB0byB0aGUgc3VibWl0IGJ1dHRvblxuXHRcdFx0XHRpZiAoICQoIHRoaXMgKS5oYXNDbGFzcyggXCJjYW5jZWxcIiApICkge1xuXHRcdFx0XHRcdHZhbGlkYXRvci5jYW5jZWxTdWJtaXQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWxsb3cgc3VwcHJlc3NpbmcgdmFsaWRhdGlvbiBieSBhZGRpbmcgdGhlIGh0bWw1IGZvcm1ub3ZhbGlkYXRlIGF0dHJpYnV0ZSB0byB0aGUgc3VibWl0IGJ1dHRvblxuXHRcdFx0XHRpZiAoICQoIHRoaXMgKS5hdHRyKCBcImZvcm1ub3ZhbGlkYXRlXCIgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHZhbGlkYXRvci5jYW5jZWxTdWJtaXQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIFZhbGlkYXRlIHRoZSBmb3JtIG9uIHN1Ym1pdFxuXHRcdFx0dGhpcy5vbiggXCJzdWJtaXQudmFsaWRhdGVcIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHZhbGlkYXRvci5zZXR0aW5ncy5kZWJ1ZyApIHtcblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgZm9ybSBzdWJtaXQgdG8gYmUgYWJsZSB0byBzZWUgY29uc29sZSBvdXRwdXRcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZnVuY3Rpb24gaGFuZGxlKCkge1xuXHRcdFx0XHRcdHZhciBoaWRkZW4sIHJlc3VsdDtcblxuXHRcdFx0XHRcdC8vIEluc2VydCBhIGhpZGRlbiBpbnB1dCBhcyBhIHJlcGxhY2VtZW50IGZvciB0aGUgbWlzc2luZyBzdWJtaXQgYnV0dG9uXG5cdFx0XHRcdFx0Ly8gVGhlIGhpZGRlbiBpbnB1dCBpcyBpbnNlcnRlZCBpbiB0d28gY2FzZXM6XG5cdFx0XHRcdFx0Ly8gICAtIEEgdXNlciBkZWZpbmVkIGEgYHN1Ym1pdEhhbmRsZXJgXG5cdFx0XHRcdFx0Ly8gICAtIFRoZXJlIHdhcyBhIHBlbmRpbmcgcmVxdWVzdCBkdWUgdG8gYHJlbW90ZWAgbWV0aG9kIGFuZCBgc3RvcFJlcXVlc3QoKWBcblx0XHRcdFx0XHQvLyAgICAgd2FzIGNhbGxlZCB0byBzdWJtaXQgdGhlIGZvcm0gaW4gY2FzZSBpdCdzIHZhbGlkXG5cdFx0XHRcdFx0aWYgKCB2YWxpZGF0b3Iuc3VibWl0QnV0dG9uICYmICggdmFsaWRhdG9yLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXIgfHwgdmFsaWRhdG9yLmZvcm1TdWJtaXR0ZWQgKSApIHtcblx0XHRcdFx0XHRcdGhpZGRlbiA9ICQoIFwiPGlucHV0IHR5cGU9J2hpZGRlbicvPlwiIClcblx0XHRcdFx0XHRcdFx0LmF0dHIoIFwibmFtZVwiLCB2YWxpZGF0b3Iuc3VibWl0QnV0dG9uLm5hbWUgKVxuXHRcdFx0XHRcdFx0XHQudmFsKCAkKCB2YWxpZGF0b3Iuc3VibWl0QnV0dG9uICkudmFsKCkgKVxuXHRcdFx0XHRcdFx0XHQuYXBwZW5kVG8oIHZhbGlkYXRvci5jdXJyZW50Rm9ybSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggdmFsaWRhdG9yLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXIgJiYgIXZhbGlkYXRvci5zZXR0aW5ncy5kZWJ1ZyApIHtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IHZhbGlkYXRvci5zZXR0aW5ncy5zdWJtaXRIYW5kbGVyLmNhbGwoIHZhbGlkYXRvciwgdmFsaWRhdG9yLmN1cnJlbnRGb3JtLCBldmVudCApO1xuXHRcdFx0XHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQW5kIGNsZWFuIHVwIGFmdGVyd2FyZHM7IHRoYW5rcyB0byBuby1ibG9jay1zY29wZSwgaGlkZGVuIGNhbiBiZSByZWZlcmVuY2VkXG5cdFx0XHRcdFx0XHRcdGhpZGRlbi5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggcmVzdWx0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJldmVudCBzdWJtaXQgZm9yIGludmFsaWQgZm9ybXMgb3IgY3VzdG9tIHN1Ym1pdCBoYW5kbGVyc1xuXHRcdFx0XHRpZiAoIHZhbGlkYXRvci5jYW5jZWxTdWJtaXQgKSB7XG5cdFx0XHRcdFx0dmFsaWRhdG9yLmNhbmNlbFN1Ym1pdCA9IGZhbHNlO1xuXHRcdFx0XHRcdHJldHVybiBoYW5kbGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHZhbGlkYXRvci5mb3JtKCkgKSB7XG5cdFx0XHRcdFx0aWYgKCB2YWxpZGF0b3IucGVuZGluZ1JlcXVlc3QgKSB7XG5cdFx0XHRcdFx0XHR2YWxpZGF0b3IuZm9ybVN1Ym1pdHRlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBoYW5kbGUoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YWxpZGF0b3IuZm9jdXNJbnZhbGlkKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbGlkYXRvcjtcblx0fSxcblxuXHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL3ZhbGlkL1xuXHR2YWxpZDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHZhbGlkLCB2YWxpZGF0b3IsIGVycm9yTGlzdDtcblxuXHRcdGlmICggJCggdGhpc1sgMCBdICkuaXMoIFwiZm9ybVwiICkgKSB7XG5cdFx0XHR2YWxpZCA9IHRoaXMudmFsaWRhdGUoKS5mb3JtKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVycm9yTGlzdCA9IFtdO1xuXHRcdFx0dmFsaWQgPSB0cnVlO1xuXHRcdFx0dmFsaWRhdG9yID0gJCggdGhpc1sgMCBdLmZvcm0gKS52YWxpZGF0ZSgpO1xuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFsaWQgPSB2YWxpZGF0b3IuZWxlbWVudCggdGhpcyApICYmIHZhbGlkO1xuXHRcdFx0XHRpZiAoICF2YWxpZCApIHtcblx0XHRcdFx0XHRlcnJvckxpc3QgPSBlcnJvckxpc3QuY29uY2F0KCB2YWxpZGF0b3IuZXJyb3JMaXN0ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHRcdHZhbGlkYXRvci5lcnJvckxpc3QgPSBlcnJvckxpc3Q7XG5cdFx0fVxuXHRcdHJldHVybiB2YWxpZDtcblx0fSxcblxuXHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL3J1bGVzL1xuXHRydWxlczogZnVuY3Rpb24oIGNvbW1hbmQsIGFyZ3VtZW50ICkge1xuXHRcdHZhciBlbGVtZW50ID0gdGhpc1sgMCBdLFxuXHRcdFx0aXNDb250ZW50RWRpdGFibGUgPSB0eXBlb2YgdGhpcy5hdHRyKCBcImNvbnRlbnRlZGl0YWJsZVwiICkgIT09IFwidW5kZWZpbmVkXCIgJiYgdGhpcy5hdHRyKCBcImNvbnRlbnRlZGl0YWJsZVwiICkgIT09IFwiZmFsc2VcIixcblx0XHRcdHNldHRpbmdzLCBzdGF0aWNSdWxlcywgZXhpc3RpbmdSdWxlcywgZGF0YSwgcGFyYW0sIGZpbHRlcmVkO1xuXG5cdFx0Ly8gSWYgbm90aGluZyBpcyBzZWxlY3RlZCwgcmV0dXJuIGVtcHR5IG9iamVjdDsgY2FuJ3QgY2hhaW4gYW55d2F5XG5cdFx0aWYgKCBlbGVtZW50ID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCAhZWxlbWVudC5mb3JtICYmIGlzQ29udGVudEVkaXRhYmxlICkge1xuXHRcdFx0ZWxlbWVudC5mb3JtID0gdGhpcy5jbG9zZXN0KCBcImZvcm1cIiApWyAwIF07XG5cdFx0XHRlbGVtZW50Lm5hbWUgPSB0aGlzLmF0dHIoIFwibmFtZVwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBlbGVtZW50LmZvcm0gPT0gbnVsbCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGNvbW1hbmQgKSB7XG5cdFx0XHRzZXR0aW5ncyA9ICQuZGF0YSggZWxlbWVudC5mb3JtLCBcInZhbGlkYXRvclwiICkuc2V0dGluZ3M7XG5cdFx0XHRzdGF0aWNSdWxlcyA9IHNldHRpbmdzLnJ1bGVzO1xuXHRcdFx0ZXhpc3RpbmdSdWxlcyA9ICQudmFsaWRhdG9yLnN0YXRpY1J1bGVzKCBlbGVtZW50ICk7XG5cdFx0XHRzd2l0Y2ggKCBjb21tYW5kICkge1xuXHRcdFx0Y2FzZSBcImFkZFwiOlxuXHRcdFx0XHQkLmV4dGVuZCggZXhpc3RpbmdSdWxlcywgJC52YWxpZGF0b3Iubm9ybWFsaXplUnVsZSggYXJndW1lbnQgKSApO1xuXG5cdFx0XHRcdC8vIFJlbW92ZSBtZXNzYWdlcyBmcm9tIHJ1bGVzLCBidXQgYWxsb3cgdGhlbSB0byBiZSBzZXQgc2VwYXJhdGVseVxuXHRcdFx0XHRkZWxldGUgZXhpc3RpbmdSdWxlcy5tZXNzYWdlcztcblx0XHRcdFx0c3RhdGljUnVsZXNbIGVsZW1lbnQubmFtZSBdID0gZXhpc3RpbmdSdWxlcztcblx0XHRcdFx0aWYgKCBhcmd1bWVudC5tZXNzYWdlcyApIHtcblx0XHRcdFx0XHRzZXR0aW5ncy5tZXNzYWdlc1sgZWxlbWVudC5uYW1lIF0gPSAkLmV4dGVuZCggc2V0dGluZ3MubWVzc2FnZXNbIGVsZW1lbnQubmFtZSBdLCBhcmd1bWVudC5tZXNzYWdlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInJlbW92ZVwiOlxuXHRcdFx0XHRpZiAoICFhcmd1bWVudCApIHtcblx0XHRcdFx0XHRkZWxldGUgc3RhdGljUnVsZXNbIGVsZW1lbnQubmFtZSBdO1xuXHRcdFx0XHRcdHJldHVybiBleGlzdGluZ1J1bGVzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZpbHRlcmVkID0ge307XG5cdFx0XHRcdCQuZWFjaCggYXJndW1lbnQuc3BsaXQoIC9cXHMvICksIGZ1bmN0aW9uKCBpbmRleCwgbWV0aG9kICkge1xuXHRcdFx0XHRcdGZpbHRlcmVkWyBtZXRob2QgXSA9IGV4aXN0aW5nUnVsZXNbIG1ldGhvZCBdO1xuXHRcdFx0XHRcdGRlbGV0ZSBleGlzdGluZ1J1bGVzWyBtZXRob2QgXTtcblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gZmlsdGVyZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZGF0YSA9ICQudmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGVzKFxuXHRcdCQuZXh0ZW5kKFxuXHRcdFx0e30sXG5cdFx0XHQkLnZhbGlkYXRvci5jbGFzc1J1bGVzKCBlbGVtZW50ICksXG5cdFx0XHQkLnZhbGlkYXRvci5hdHRyaWJ1dGVSdWxlcyggZWxlbWVudCApLFxuXHRcdFx0JC52YWxpZGF0b3IuZGF0YVJ1bGVzKCBlbGVtZW50ICksXG5cdFx0XHQkLnZhbGlkYXRvci5zdGF0aWNSdWxlcyggZWxlbWVudCApXG5cdFx0KSwgZWxlbWVudCApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHJlcXVpcmVkIGlzIGF0IGZyb250XG5cdFx0aWYgKCBkYXRhLnJlcXVpcmVkICkge1xuXHRcdFx0cGFyYW0gPSBkYXRhLnJlcXVpcmVkO1xuXHRcdFx0ZGVsZXRlIGRhdGEucmVxdWlyZWQ7XG5cdFx0XHRkYXRhID0gJC5leHRlbmQoIHsgcmVxdWlyZWQ6IHBhcmFtIH0sIGRhdGEgKTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgcmVtb3RlIGlzIGF0IGJhY2tcblx0XHRpZiAoIGRhdGEucmVtb3RlICkge1xuXHRcdFx0cGFyYW0gPSBkYXRhLnJlbW90ZTtcblx0XHRcdGRlbGV0ZSBkYXRhLnJlbW90ZTtcblx0XHRcdGRhdGEgPSAkLmV4dGVuZCggZGF0YSwgeyByZW1vdGU6IHBhcmFtIH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YTtcblx0fVxufSApO1xuXG4vLyBDdXN0b20gc2VsZWN0b3JzXG4kLmV4dGVuZCggJC5leHByLnBzZXVkb3MgfHwgJC5leHByWyBcIjpcIiBdLCB7XHRcdC8vICd8fCAkLmV4cHJbIFwiOlwiIF0nIGhlcmUgZW5hYmxlcyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB0byBqUXVlcnkgMS43LiBDYW4gYmUgcmVtb3ZlZCB3aGVuIGRyb3BwaW5nIGpRIDEuNy54IHN1cHBvcnRcblxuXHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2JsYW5rLXNlbGVjdG9yL1xuXHRibGFuazogZnVuY3Rpb24oIGEgKSB7XG5cdFx0cmV0dXJuICEkLnRyaW0oIFwiXCIgKyAkKCBhICkudmFsKCkgKTtcblx0fSxcblxuXHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2ZpbGxlZC1zZWxlY3Rvci9cblx0ZmlsbGVkOiBmdW5jdGlvbiggYSApIHtcblx0XHR2YXIgdmFsID0gJCggYSApLnZhbCgpO1xuXHRcdHJldHVybiB2YWwgIT09IG51bGwgJiYgISEkLnRyaW0oIFwiXCIgKyB2YWwgKTtcblx0fSxcblxuXHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL3VuY2hlY2tlZC1zZWxlY3Rvci9cblx0dW5jaGVja2VkOiBmdW5jdGlvbiggYSApIHtcblx0XHRyZXR1cm4gISQoIGEgKS5wcm9wKCBcImNoZWNrZWRcIiApO1xuXHR9XG59ICk7XG5cbi8vIENvbnN0cnVjdG9yIGZvciB2YWxpZGF0b3JcbiQudmFsaWRhdG9yID0gZnVuY3Rpb24oIG9wdGlvbnMsIGZvcm0gKSB7XG5cdHRoaXMuc2V0dGluZ3MgPSAkLmV4dGVuZCggdHJ1ZSwge30sICQudmFsaWRhdG9yLmRlZmF1bHRzLCBvcHRpb25zICk7XG5cdHRoaXMuY3VycmVudEZvcm0gPSBmb3JtO1xuXHR0aGlzLmluaXQoKTtcbn07XG5cbi8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvalF1ZXJ5LnZhbGlkYXRvci5mb3JtYXQvXG4kLnZhbGlkYXRvci5mb3JtYXQgPSBmdW5jdGlvbiggc291cmNlLCBwYXJhbXMgKSB7XG5cdGlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgYXJncyA9ICQubWFrZUFycmF5KCBhcmd1bWVudHMgKTtcblx0XHRcdGFyZ3MudW5zaGlmdCggc291cmNlICk7XG5cdFx0XHRyZXR1cm4gJC52YWxpZGF0b3IuZm9ybWF0LmFwcGx5KCB0aGlzLCBhcmdzICk7XG5cdFx0fTtcblx0fVxuXHRpZiAoIHBhcmFtcyA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHJldHVybiBzb3VyY2U7XG5cdH1cblx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBwYXJhbXMuY29uc3RydWN0b3IgIT09IEFycmF5ICApIHtcblx0XHRwYXJhbXMgPSAkLm1ha2VBcnJheSggYXJndW1lbnRzICkuc2xpY2UoIDEgKTtcblx0fVxuXHRpZiAoIHBhcmFtcy5jb25zdHJ1Y3RvciAhPT0gQXJyYXkgKSB7XG5cdFx0cGFyYW1zID0gWyBwYXJhbXMgXTtcblx0fVxuXHQkLmVhY2goIHBhcmFtcywgZnVuY3Rpb24oIGksIG4gKSB7XG5cdFx0c291cmNlID0gc291cmNlLnJlcGxhY2UoIG5ldyBSZWdFeHAoIFwiXFxcXHtcIiArIGkgKyBcIlxcXFx9XCIsIFwiZ1wiICksIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIG47XG5cdFx0fSApO1xuXHR9ICk7XG5cdHJldHVybiBzb3VyY2U7XG59O1xuXG4kLmV4dGVuZCggJC52YWxpZGF0b3IsIHtcblxuXHRkZWZhdWx0czoge1xuXHRcdG1lc3NhZ2VzOiB7fSxcblx0XHRncm91cHM6IHt9LFxuXHRcdHJ1bGVzOiB7fSxcblx0XHRlcnJvckNsYXNzOiBcImVycm9yXCIsXG5cdFx0cGVuZGluZ0NsYXNzOiBcInBlbmRpbmdcIixcblx0XHR2YWxpZENsYXNzOiBcInZhbGlkXCIsXG5cdFx0ZXJyb3JFbGVtZW50OiBcImxhYmVsXCIsXG5cdFx0Zm9jdXNDbGVhbnVwOiBmYWxzZSxcblx0XHRmb2N1c0ludmFsaWQ6IHRydWUsXG5cdFx0ZXJyb3JDb250YWluZXI6ICQoIFtdICksXG5cdFx0ZXJyb3JMYWJlbENvbnRhaW5lcjogJCggW10gKSxcblx0XHRvbnN1Ym1pdDogdHJ1ZSxcblx0XHRpZ25vcmU6IFwiOmhpZGRlblwiLFxuXHRcdGlnbm9yZVRpdGxlOiBmYWxzZSxcblx0XHRvbmZvY3VzaW46IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0dGhpcy5sYXN0QWN0aXZlID0gZWxlbWVudDtcblxuXHRcdFx0Ly8gSGlkZSBlcnJvciBsYWJlbCBhbmQgcmVtb3ZlIGVycm9yIGNsYXNzIG9uIGZvY3VzIGlmIGVuYWJsZWRcblx0XHRcdGlmICggdGhpcy5zZXR0aW5ncy5mb2N1c0NsZWFudXAgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodCApIHtcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0LmNhbGwoIHRoaXMsIGVsZW1lbnQsIHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcywgdGhpcy5zZXR0aW5ncy52YWxpZENsYXNzICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5oaWRlVGhlc2UoIHRoaXMuZXJyb3JzRm9yKCBlbGVtZW50ICkgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdG9uZm9jdXNvdXQ6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0aWYgKCAhdGhpcy5jaGVja2FibGUoIGVsZW1lbnQgKSAmJiAoIGVsZW1lbnQubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZCB8fCAhdGhpcy5vcHRpb25hbCggZWxlbWVudCApICkgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudCggZWxlbWVudCApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0b25rZXl1cDogZnVuY3Rpb24oIGVsZW1lbnQsIGV2ZW50ICkge1xuXG5cdFx0XHQvLyBBdm9pZCByZXZhbGlkYXRlIHRoZSBmaWVsZCB3aGVuIHByZXNzaW5nIG9uZSBvZiB0aGUgZm9sbG93aW5nIGtleXNcblx0XHRcdC8vIFNoaWZ0ICAgICAgID0+IDE2XG5cdFx0XHQvLyBDdHJsICAgICAgICA9PiAxN1xuXHRcdFx0Ly8gQWx0ICAgICAgICAgPT4gMThcblx0XHRcdC8vIENhcHMgbG9jayAgID0+IDIwXG5cdFx0XHQvLyBFbmQgICAgICAgICA9PiAzNVxuXHRcdFx0Ly8gSG9tZSAgICAgICAgPT4gMzZcblx0XHRcdC8vIExlZnQgYXJyb3cgID0+IDM3XG5cdFx0XHQvLyBVcCBhcnJvdyAgICA9PiAzOFxuXHRcdFx0Ly8gUmlnaHQgYXJyb3cgPT4gMzlcblx0XHRcdC8vIERvd24gYXJyb3cgID0+IDQwXG5cdFx0XHQvLyBJbnNlcnQgICAgICA9PiA0NVxuXHRcdFx0Ly8gTnVtIGxvY2sgICAgPT4gMTQ0XG5cdFx0XHQvLyBBbHRHciBrZXkgICA9PiAyMjVcblx0XHRcdHZhciBleGNsdWRlZEtleXMgPSBbXG5cdFx0XHRcdDE2LCAxNywgMTgsIDIwLCAzNSwgMzYsIDM3LFxuXHRcdFx0XHQzOCwgMzksIDQwLCA0NSwgMTQ0LCAyMjVcblx0XHRcdF07XG5cblx0XHRcdGlmICggZXZlbnQud2hpY2ggPT09IDkgJiYgdGhpcy5lbGVtZW50VmFsdWUoIGVsZW1lbnQgKSA9PT0gXCJcIiB8fCAkLmluQXJyYXkoIGV2ZW50LmtleUNvZGUsIGV4Y2x1ZGVkS2V5cyApICE9PSAtMSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBlbHNlIGlmICggZWxlbWVudC5uYW1lIGluIHRoaXMuc3VibWl0dGVkIHx8IGVsZW1lbnQubmFtZSBpbiB0aGlzLmludmFsaWQgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudCggZWxlbWVudCApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0b25jbGljazogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cblx0XHRcdC8vIENsaWNrIG9uIHNlbGVjdHMsIHJhZGlvYnV0dG9ucyBhbmQgY2hlY2tib3hlc1xuXHRcdFx0aWYgKCBlbGVtZW50Lm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudCggZWxlbWVudCApO1xuXG5cdFx0XHQvLyBPciBvcHRpb24gZWxlbWVudHMsIGNoZWNrIHBhcmVudCBzZWxlY3QgaW4gdGhhdCBjYXNlXG5cdFx0XHR9IGVsc2UgaWYgKCBlbGVtZW50LnBhcmVudE5vZGUubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZCApIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50KCBlbGVtZW50LnBhcmVudE5vZGUgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGhpZ2hsaWdodDogZnVuY3Rpb24oIGVsZW1lbnQsIGVycm9yQ2xhc3MsIHZhbGlkQ2xhc3MgKSB7XG5cdFx0XHRpZiAoIGVsZW1lbnQudHlwZSA9PT0gXCJyYWRpb1wiICkge1xuXHRcdFx0XHR0aGlzLmZpbmRCeU5hbWUoIGVsZW1lbnQubmFtZSApLmFkZENsYXNzKCBlcnJvckNsYXNzICkucmVtb3ZlQ2xhc3MoIHZhbGlkQ2xhc3MgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoIGVsZW1lbnQgKS5hZGRDbGFzcyggZXJyb3JDbGFzcyApLnJlbW92ZUNsYXNzKCB2YWxpZENsYXNzICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR1bmhpZ2hsaWdodDogZnVuY3Rpb24oIGVsZW1lbnQsIGVycm9yQ2xhc3MsIHZhbGlkQ2xhc3MgKSB7XG5cdFx0XHRpZiAoIGVsZW1lbnQudHlwZSA9PT0gXCJyYWRpb1wiICkge1xuXHRcdFx0XHR0aGlzLmZpbmRCeU5hbWUoIGVsZW1lbnQubmFtZSApLnJlbW92ZUNsYXNzKCBlcnJvckNsYXNzICkuYWRkQ2xhc3MoIHZhbGlkQ2xhc3MgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoIGVsZW1lbnQgKS5yZW1vdmVDbGFzcyggZXJyb3JDbGFzcyApLmFkZENsYXNzKCB2YWxpZENsYXNzICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvalF1ZXJ5LnZhbGlkYXRvci5zZXREZWZhdWx0cy9cblx0c2V0RGVmYXVsdHM6IGZ1bmN0aW9uKCBzZXR0aW5ncyApIHtcblx0XHQkLmV4dGVuZCggJC52YWxpZGF0b3IuZGVmYXVsdHMsIHNldHRpbmdzICk7XG5cdH0sXG5cblx0bWVzc2FnZXM6IHtcblx0XHRyZXF1aXJlZDogXCJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLlwiLFxuXHRcdHJlbW90ZTogXCJQbGVhc2UgZml4IHRoaXMgZmllbGQuXCIsXG5cdFx0ZW1haWw6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIixcblx0XHR1cmw6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgVVJMLlwiLFxuXHRcdGRhdGU6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZS5cIixcblx0XHRkYXRlSVNPOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGRhdGUgKElTTykuXCIsXG5cdFx0bnVtYmVyOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIG51bWJlci5cIixcblx0XHRkaWdpdHM6IFwiUGxlYXNlIGVudGVyIG9ubHkgZGlnaXRzLlwiLFxuXHRcdGVxdWFsVG86IFwiUGxlYXNlIGVudGVyIHRoZSBzYW1lIHZhbHVlIGFnYWluLlwiLFxuXHRcdG1heGxlbmd0aDogJC52YWxpZGF0b3IuZm9ybWF0KCBcIlBsZWFzZSBlbnRlciBubyBtb3JlIHRoYW4gezB9IGNoYXJhY3RlcnMuXCIgKSxcblx0XHRtaW5sZW5ndGg6ICQudmFsaWRhdG9yLmZvcm1hdCggXCJQbGVhc2UgZW50ZXIgYXQgbGVhc3QgezB9IGNoYXJhY3RlcnMuXCIgKSxcblx0XHRyYW5nZWxlbmd0aDogJC52YWxpZGF0b3IuZm9ybWF0KCBcIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0gY2hhcmFjdGVycyBsb25nLlwiICksXG5cdFx0cmFuZ2U6ICQudmFsaWRhdG9yLmZvcm1hdCggXCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIHswfSBhbmQgezF9LlwiICksXG5cdFx0bWF4OiAkLnZhbGlkYXRvci5mb3JtYXQoIFwiUGxlYXNlIGVudGVyIGEgdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHswfS5cIiApLFxuXHRcdG1pbjogJC52YWxpZGF0b3IuZm9ybWF0KCBcIlBsZWFzZSBlbnRlciBhIHZhbHVlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB7MH0uXCIgKSxcblx0XHRzdGVwOiAkLnZhbGlkYXRvci5mb3JtYXQoIFwiUGxlYXNlIGVudGVyIGEgbXVsdGlwbGUgb2YgezB9LlwiIClcblx0fSxcblxuXHRhdXRvQ3JlYXRlUmFuZ2VzOiBmYWxzZSxcblxuXHRwcm90b3R5cGU6IHtcblxuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5sYWJlbENvbnRhaW5lciA9ICQoIHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lciApO1xuXHRcdFx0dGhpcy5lcnJvckNvbnRleHQgPSB0aGlzLmxhYmVsQ29udGFpbmVyLmxlbmd0aCAmJiB0aGlzLmxhYmVsQ29udGFpbmVyIHx8ICQoIHRoaXMuY3VycmVudEZvcm0gKTtcblx0XHRcdHRoaXMuY29udGFpbmVycyA9ICQoIHRoaXMuc2V0dGluZ3MuZXJyb3JDb250YWluZXIgKS5hZGQoIHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lciApO1xuXHRcdFx0dGhpcy5zdWJtaXR0ZWQgPSB7fTtcblx0XHRcdHRoaXMudmFsdWVDYWNoZSA9IHt9O1xuXHRcdFx0dGhpcy5wZW5kaW5nUmVxdWVzdCA9IDA7XG5cdFx0XHR0aGlzLnBlbmRpbmcgPSB7fTtcblx0XHRcdHRoaXMuaW52YWxpZCA9IHt9O1xuXHRcdFx0dGhpcy5yZXNldCgpO1xuXG5cdFx0XHR2YXIgY3VycmVudEZvcm0gPSB0aGlzLmN1cnJlbnRGb3JtLFxuXHRcdFx0XHRncm91cHMgPSAoIHRoaXMuZ3JvdXBzID0ge30gKSxcblx0XHRcdFx0cnVsZXM7XG5cdFx0XHQkLmVhY2goIHRoaXMuc2V0dGluZ3MuZ3JvdXBzLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zcGxpdCggL1xccy8gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkLmVhY2goIHZhbHVlLCBmdW5jdGlvbiggaW5kZXgsIG5hbWUgKSB7XG5cdFx0XHRcdFx0Z3JvdXBzWyBuYW1lIF0gPSBrZXk7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH0gKTtcblx0XHRcdHJ1bGVzID0gdGhpcy5zZXR0aW5ncy5ydWxlcztcblx0XHRcdCQuZWFjaCggcnVsZXMsIGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdFx0XHRydWxlc1sga2V5IF0gPSAkLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKCB2YWx1ZSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHRmdW5jdGlvbiBkZWxlZ2F0ZSggZXZlbnQgKSB7XG5cdFx0XHRcdHZhciBpc0NvbnRlbnRFZGl0YWJsZSA9IHR5cGVvZiAkKCB0aGlzICkuYXR0ciggXCJjb250ZW50ZWRpdGFibGVcIiApICE9PSBcInVuZGVmaW5lZFwiICYmICQoIHRoaXMgKS5hdHRyKCBcImNvbnRlbnRlZGl0YWJsZVwiICkgIT09IFwiZmFsc2VcIjtcblxuXHRcdFx0XHQvLyBTZXQgZm9ybSBleHBhbmRvIG9uIGNvbnRlbnRlZGl0YWJsZVxuXHRcdFx0XHRpZiAoICF0aGlzLmZvcm0gJiYgaXNDb250ZW50RWRpdGFibGUgKSB7XG5cdFx0XHRcdFx0dGhpcy5mb3JtID0gJCggdGhpcyApLmNsb3Nlc3QoIFwiZm9ybVwiIClbIDAgXTtcblx0XHRcdFx0XHR0aGlzLm5hbWUgPSAkKCB0aGlzICkuYXR0ciggXCJuYW1lXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElnbm9yZSB0aGUgZWxlbWVudCBpZiBpdCBiZWxvbmdzIHRvIGFub3RoZXIgZm9ybS4gVGhpcyB3aWxsIGhhcHBlbiBtYWlubHlcblx0XHRcdFx0Ly8gd2hlbiBzZXR0aW5nIHRoZSBgZm9ybWAgYXR0cmlidXRlIG9mIGFuIGlucHV0IHRvIHRoZSBpZCBvZiBhbm90aGVyIGZvcm0uXG5cdFx0XHRcdGlmICggY3VycmVudEZvcm0gIT09IHRoaXMuZm9ybSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgdmFsaWRhdG9yID0gJC5kYXRhKCB0aGlzLmZvcm0sIFwidmFsaWRhdG9yXCIgKSxcblx0XHRcdFx0XHRldmVudFR5cGUgPSBcIm9uXCIgKyBldmVudC50eXBlLnJlcGxhY2UoIC9edmFsaWRhdGUvLCBcIlwiICksXG5cdFx0XHRcdFx0c2V0dGluZ3MgPSB2YWxpZGF0b3Iuc2V0dGluZ3M7XG5cdFx0XHRcdGlmICggc2V0dGluZ3NbIGV2ZW50VHlwZSBdICYmICEkKCB0aGlzICkuaXMoIHNldHRpbmdzLmlnbm9yZSApICkge1xuXHRcdFx0XHRcdHNldHRpbmdzWyBldmVudFR5cGUgXS5jYWxsKCB2YWxpZGF0b3IsIHRoaXMsIGV2ZW50ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0JCggdGhpcy5jdXJyZW50Rm9ybSApXG5cdFx0XHRcdC5vbiggXCJmb2N1c2luLnZhbGlkYXRlIGZvY3Vzb3V0LnZhbGlkYXRlIGtleXVwLnZhbGlkYXRlXCIsXG5cdFx0XHRcdFx0XCI6dGV4dCwgW3R5cGU9J3Bhc3N3b3JkJ10sIFt0eXBlPSdmaWxlJ10sIHNlbGVjdCwgdGV4dGFyZWEsIFt0eXBlPSdudW1iZXInXSwgW3R5cGU9J3NlYXJjaCddLCBcIiArXG5cdFx0XHRcdFx0XCJbdHlwZT0ndGVsJ10sIFt0eXBlPSd1cmwnXSwgW3R5cGU9J2VtYWlsJ10sIFt0eXBlPSdkYXRldGltZSddLCBbdHlwZT0nZGF0ZSddLCBbdHlwZT0nbW9udGgnXSwgXCIgK1xuXHRcdFx0XHRcdFwiW3R5cGU9J3dlZWsnXSwgW3R5cGU9J3RpbWUnXSwgW3R5cGU9J2RhdGV0aW1lLWxvY2FsJ10sIFt0eXBlPSdyYW5nZSddLCBbdHlwZT0nY29sb3InXSwgXCIgK1xuXHRcdFx0XHRcdFwiW3R5cGU9J3JhZGlvJ10sIFt0eXBlPSdjaGVja2JveCddLCBbY29udGVudGVkaXRhYmxlXSwgW3R5cGU9J2J1dHRvbiddXCIsIGRlbGVnYXRlIClcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUsIG9sZElFXG5cdFx0XHRcdC8vIFwic2VsZWN0XCIgaXMgcHJvdmlkZWQgYXMgZXZlbnQudGFyZ2V0IHdoZW4gY2xpY2tpbmcgYSBvcHRpb25cblx0XHRcdFx0Lm9uKCBcImNsaWNrLnZhbGlkYXRlXCIsIFwic2VsZWN0LCBvcHRpb24sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXVwiLCBkZWxlZ2F0ZSApO1xuXG5cdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3MuaW52YWxpZEhhbmRsZXIgKSB7XG5cdFx0XHRcdCQoIHRoaXMuY3VycmVudEZvcm0gKS5vbiggXCJpbnZhbGlkLWZvcm0udmFsaWRhdGVcIiwgdGhpcy5zZXR0aW5ncy5pbnZhbGlkSGFuZGxlciApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL1ZhbGlkYXRvci5mb3JtL1xuXHRcdGZvcm06IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5jaGVja0Zvcm0oKTtcblx0XHRcdCQuZXh0ZW5kKCB0aGlzLnN1Ym1pdHRlZCwgdGhpcy5lcnJvck1hcCApO1xuXHRcdFx0dGhpcy5pbnZhbGlkID0gJC5leHRlbmQoIHt9LCB0aGlzLmVycm9yTWFwICk7XG5cdFx0XHRpZiAoICF0aGlzLnZhbGlkKCkgKSB7XG5cdFx0XHRcdCQoIHRoaXMuY3VycmVudEZvcm0gKS50cmlnZ2VySGFuZGxlciggXCJpbnZhbGlkLWZvcm1cIiwgWyB0aGlzIF0gKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuc2hvd0Vycm9ycygpO1xuXHRcdFx0cmV0dXJuIHRoaXMudmFsaWQoKTtcblx0XHR9LFxuXG5cdFx0Y2hlY2tGb3JtOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMucHJlcGFyZUZvcm0oKTtcblx0XHRcdGZvciAoIHZhciBpID0gMCwgZWxlbWVudHMgPSAoIHRoaXMuY3VycmVudEVsZW1lbnRzID0gdGhpcy5lbGVtZW50cygpICk7IGVsZW1lbnRzWyBpIF07IGkrKyApIHtcblx0XHRcdFx0dGhpcy5jaGVjayggZWxlbWVudHNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXMudmFsaWQoKTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9WYWxpZGF0b3IuZWxlbWVudC9cblx0XHRlbGVtZW50OiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRcdHZhciBjbGVhbkVsZW1lbnQgPSB0aGlzLmNsZWFuKCBlbGVtZW50ICksXG5cdFx0XHRcdGNoZWNrRWxlbWVudCA9IHRoaXMudmFsaWRhdGlvblRhcmdldEZvciggY2xlYW5FbGVtZW50ICksXG5cdFx0XHRcdHYgPSB0aGlzLFxuXHRcdFx0XHRyZXN1bHQgPSB0cnVlLFxuXHRcdFx0XHRycywgZ3JvdXA7XG5cblx0XHRcdGlmICggY2hlY2tFbGVtZW50ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmludmFsaWRbIGNsZWFuRWxlbWVudC5uYW1lIF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnByZXBhcmVFbGVtZW50KCBjaGVja0VsZW1lbnQgKTtcblx0XHRcdFx0dGhpcy5jdXJyZW50RWxlbWVudHMgPSAkKCBjaGVja0VsZW1lbnQgKTtcblxuXHRcdFx0XHQvLyBJZiB0aGlzIGVsZW1lbnQgaXMgZ3JvdXBlZCwgdGhlbiB2YWxpZGF0ZSBhbGwgZ3JvdXAgZWxlbWVudHMgYWxyZWFkeVxuXHRcdFx0XHQvLyBjb250YWluaW5nIGEgdmFsdWVcblx0XHRcdFx0Z3JvdXAgPSB0aGlzLmdyb3Vwc1sgY2hlY2tFbGVtZW50Lm5hbWUgXTtcblx0XHRcdFx0aWYgKCBncm91cCApIHtcblx0XHRcdFx0XHQkLmVhY2goIHRoaXMuZ3JvdXBzLCBmdW5jdGlvbiggbmFtZSwgdGVzdGdyb3VwICkge1xuXHRcdFx0XHRcdFx0aWYgKCB0ZXN0Z3JvdXAgPT09IGdyb3VwICYmIG5hbWUgIT09IGNoZWNrRWxlbWVudC5uYW1lICkge1xuXHRcdFx0XHRcdFx0XHRjbGVhbkVsZW1lbnQgPSB2LnZhbGlkYXRpb25UYXJnZXRGb3IoIHYuY2xlYW4oIHYuZmluZEJ5TmFtZSggbmFtZSApICkgKTtcblx0XHRcdFx0XHRcdFx0aWYgKCBjbGVhbkVsZW1lbnQgJiYgY2xlYW5FbGVtZW50Lm5hbWUgaW4gdi5pbnZhbGlkICkge1xuXHRcdFx0XHRcdFx0XHRcdHYuY3VycmVudEVsZW1lbnRzLnB1c2goIGNsZWFuRWxlbWVudCApO1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdCA9IHYuY2hlY2soIGNsZWFuRWxlbWVudCApICYmIHJlc3VsdDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJzID0gdGhpcy5jaGVjayggY2hlY2tFbGVtZW50ICkgIT09IGZhbHNlO1xuXHRcdFx0XHRyZXN1bHQgPSByZXN1bHQgJiYgcnM7XG5cdFx0XHRcdGlmICggcnMgKSB7XG5cdFx0XHRcdFx0dGhpcy5pbnZhbGlkWyBjaGVja0VsZW1lbnQubmFtZSBdID0gZmFsc2U7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5pbnZhbGlkWyBjaGVja0VsZW1lbnQubmFtZSBdID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggIXRoaXMubnVtYmVyT2ZJbnZhbGlkcygpICkge1xuXG5cdFx0XHRcdFx0Ly8gSGlkZSBlcnJvciBjb250YWluZXJzIG9uIGxhc3QgZXJyb3Jcblx0XHRcdFx0XHR0aGlzLnRvSGlkZSA9IHRoaXMudG9IaWRlLmFkZCggdGhpcy5jb250YWluZXJzICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5zaG93RXJyb3JzKCk7XG5cblx0XHRcdFx0Ly8gQWRkIGFyaWEtaW52YWxpZCBzdGF0dXMgZm9yIHNjcmVlbiByZWFkZXJzXG5cdFx0XHRcdCQoIGVsZW1lbnQgKS5hdHRyKCBcImFyaWEtaW52YWxpZFwiLCAhcnMgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9WYWxpZGF0b3Iuc2hvd0Vycm9ycy9cblx0XHRzaG93RXJyb3JzOiBmdW5jdGlvbiggZXJyb3JzICkge1xuXHRcdFx0aWYgKCBlcnJvcnMgKSB7XG5cdFx0XHRcdHZhciB2YWxpZGF0b3IgPSB0aGlzO1xuXG5cdFx0XHRcdC8vIEFkZCBpdGVtcyB0byBlcnJvciBsaXN0IGFuZCBtYXBcblx0XHRcdFx0JC5leHRlbmQoIHRoaXMuZXJyb3JNYXAsIGVycm9ycyApO1xuXHRcdFx0XHR0aGlzLmVycm9yTGlzdCA9ICQubWFwKCB0aGlzLmVycm9yTWFwLCBmdW5jdGlvbiggbWVzc2FnZSwgbmFtZSApIHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0bWVzc2FnZTogbWVzc2FnZSxcblx0XHRcdFx0XHRcdGVsZW1lbnQ6IHZhbGlkYXRvci5maW5kQnlOYW1lKCBuYW1lIClbIDAgXVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgaXRlbXMgZnJvbSBzdWNjZXNzIGxpc3Rcblx0XHRcdFx0dGhpcy5zdWNjZXNzTGlzdCA9ICQuZ3JlcCggdGhpcy5zdWNjZXNzTGlzdCwgZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEoIGVsZW1lbnQubmFtZSBpbiBlcnJvcnMgKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB0aGlzLnNldHRpbmdzLnNob3dFcnJvcnMgKSB7XG5cdFx0XHRcdHRoaXMuc2V0dGluZ3Muc2hvd0Vycm9ycy5jYWxsKCB0aGlzLCB0aGlzLmVycm9yTWFwLCB0aGlzLmVycm9yTGlzdCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5kZWZhdWx0U2hvd0Vycm9ycygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL1ZhbGlkYXRvci5yZXNldEZvcm0vXG5cdFx0cmVzZXRGb3JtOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggJC5mbi5yZXNldEZvcm0gKSB7XG5cdFx0XHRcdCQoIHRoaXMuY3VycmVudEZvcm0gKS5yZXNldEZvcm0oKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuaW52YWxpZCA9IHt9O1xuXHRcdFx0dGhpcy5zdWJtaXR0ZWQgPSB7fTtcblx0XHRcdHRoaXMucHJlcGFyZUZvcm0oKTtcblx0XHRcdHRoaXMuaGlkZUVycm9ycygpO1xuXHRcdFx0dmFyIGVsZW1lbnRzID0gdGhpcy5lbGVtZW50cygpXG5cdFx0XHRcdC5yZW1vdmVEYXRhKCBcInByZXZpb3VzVmFsdWVcIiApXG5cdFx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtaW52YWxpZFwiICk7XG5cblx0XHRcdHRoaXMucmVzZXRFbGVtZW50cyggZWxlbWVudHMgKTtcblx0XHR9LFxuXG5cdFx0cmVzZXRFbGVtZW50czogZnVuY3Rpb24oIGVsZW1lbnRzICkge1xuXHRcdFx0dmFyIGk7XG5cblx0XHRcdGlmICggdGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodCApIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGVsZW1lbnRzWyBpIF07IGkrKyApIHtcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0LmNhbGwoIHRoaXMsIGVsZW1lbnRzWyBpIF0sXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MsIFwiXCIgKTtcblx0XHRcdFx0XHR0aGlzLmZpbmRCeU5hbWUoIGVsZW1lbnRzWyBpIF0ubmFtZSApLnJlbW92ZUNsYXNzKCB0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudHNcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyApXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0bnVtYmVyT2ZJbnZhbGlkczogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vYmplY3RMZW5ndGgoIHRoaXMuaW52YWxpZCApO1xuXHRcdH0sXG5cblx0XHRvYmplY3RMZW5ndGg6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0XHQvKiBqc2hpbnQgdW51c2VkOiBmYWxzZSAqL1xuXHRcdFx0dmFyIGNvdW50ID0gMCxcblx0XHRcdFx0aTtcblx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xuXG5cdFx0XHRcdC8vIFRoaXMgY2hlY2sgYWxsb3dzIGNvdW50aW5nIGVsZW1lbnRzIHdpdGggZW1wdHkgZXJyb3Jcblx0XHRcdFx0Ly8gbWVzc2FnZSBhcyBpbnZhbGlkIGVsZW1lbnRzXG5cdFx0XHRcdGlmICggb2JqWyBpIF0gIT09IHVuZGVmaW5lZCAmJiBvYmpbIGkgXSAhPT0gbnVsbCAmJiBvYmpbIGkgXSAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGNvdW50O1xuXHRcdH0sXG5cblx0XHRoaWRlRXJyb3JzOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuaGlkZVRoZXNlKCB0aGlzLnRvSGlkZSApO1xuXHRcdH0sXG5cblx0XHRoaWRlVGhlc2U6IGZ1bmN0aW9uKCBlcnJvcnMgKSB7XG5cdFx0XHRlcnJvcnMubm90KCB0aGlzLmNvbnRhaW5lcnMgKS50ZXh0KCBcIlwiICk7XG5cdFx0XHR0aGlzLmFkZFdyYXBwZXIoIGVycm9ycyApLmhpZGUoKTtcblx0XHR9LFxuXG5cdFx0dmFsaWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2l6ZSgpID09PSAwO1xuXHRcdH0sXG5cblx0XHRzaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmVycm9yTGlzdC5sZW5ndGg7XG5cdFx0fSxcblxuXHRcdGZvY3VzSW52YWxpZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3MuZm9jdXNJbnZhbGlkICkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdCQoIHRoaXMuZmluZExhc3RBY3RpdmUoKSB8fCB0aGlzLmVycm9yTGlzdC5sZW5ndGggJiYgdGhpcy5lcnJvckxpc3RbIDAgXS5lbGVtZW50IHx8IFtdIClcblx0XHRcdFx0XHQuZmlsdGVyKCBcIjp2aXNpYmxlXCIgKVxuXHRcdFx0XHRcdC50cmlnZ2VyKCBcImZvY3VzXCIgKVxuXG5cdFx0XHRcdFx0Ly8gTWFudWFsbHkgdHJpZ2dlciBmb2N1c2luIGV2ZW50OyB3aXRob3V0IGl0LCBmb2N1c2luIGhhbmRsZXIgaXNuJ3QgY2FsbGVkLCBmaW5kTGFzdEFjdGl2ZSB3b24ndCBoYXZlIGFueXRoaW5nIHRvIGZpbmRcblx0XHRcdFx0XHQudHJpZ2dlciggXCJmb2N1c2luXCIgKTtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHQvLyBJZ25vcmUgSUUgdGhyb3dpbmcgZXJyb3JzIHdoZW4gZm9jdXNpbmcgaGlkZGVuIGVsZW1lbnRzXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZmluZExhc3RBY3RpdmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGxhc3RBY3RpdmUgPSB0aGlzLmxhc3RBY3RpdmU7XG5cdFx0XHRyZXR1cm4gbGFzdEFjdGl2ZSAmJiAkLmdyZXAoIHRoaXMuZXJyb3JMaXN0LCBmdW5jdGlvbiggbiApIHtcblx0XHRcdFx0cmV0dXJuIG4uZWxlbWVudC5uYW1lID09PSBsYXN0QWN0aXZlLm5hbWU7XG5cdFx0XHR9ICkubGVuZ3RoID09PSAxICYmIGxhc3RBY3RpdmU7XG5cdFx0fSxcblxuXHRcdGVsZW1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB2YWxpZGF0b3IgPSB0aGlzLFxuXHRcdFx0XHRydWxlc0NhY2hlID0ge307XG5cblx0XHRcdC8vIFNlbGVjdCBhbGwgdmFsaWQgaW5wdXRzIGluc2lkZSB0aGUgZm9ybSAobm8gc3VibWl0IG9yIHJlc2V0IGJ1dHRvbnMpXG5cdFx0XHRyZXR1cm4gJCggdGhpcy5jdXJyZW50Rm9ybSApXG5cdFx0XHQuZmluZCggXCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW2NvbnRlbnRlZGl0YWJsZV1cIiApXG5cdFx0XHQubm90KCBcIjpzdWJtaXQsIDpyZXNldCwgOmltYWdlLCA6ZGlzYWJsZWRcIiApXG5cdFx0XHQubm90KCB0aGlzLnNldHRpbmdzLmlnbm9yZSApXG5cdFx0XHQuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5hbWUgPSB0aGlzLm5hbWUgfHwgJCggdGhpcyApLmF0dHIoIFwibmFtZVwiICk7IC8vIEZvciBjb250ZW50ZWRpdGFibGVcblx0XHRcdFx0dmFyIGlzQ29udGVudEVkaXRhYmxlID0gdHlwZW9mICQoIHRoaXMgKS5hdHRyKCBcImNvbnRlbnRlZGl0YWJsZVwiICkgIT09IFwidW5kZWZpbmVkXCIgJiYgJCggdGhpcyApLmF0dHIoIFwiY29udGVudGVkaXRhYmxlXCIgKSAhPT0gXCJmYWxzZVwiO1xuXG5cdFx0XHRcdGlmICggIW5hbWUgJiYgdmFsaWRhdG9yLnNldHRpbmdzLmRlYnVnICYmIHdpbmRvdy5jb25zb2xlICkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoIFwiJW8gaGFzIG5vIG5hbWUgYXNzaWduZWRcIiwgdGhpcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2V0IGZvcm0gZXhwYW5kbyBvbiBjb250ZW50ZWRpdGFibGVcblx0XHRcdFx0aWYgKCBpc0NvbnRlbnRFZGl0YWJsZSApIHtcblx0XHRcdFx0XHR0aGlzLmZvcm0gPSAkKCB0aGlzICkuY2xvc2VzdCggXCJmb3JtXCIgKVsgMCBdO1xuXHRcdFx0XHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZ25vcmUgZWxlbWVudHMgdGhhdCBiZWxvbmcgdG8gb3RoZXIvbmVzdGVkIGZvcm1zXG5cdFx0XHRcdGlmICggdGhpcy5mb3JtICE9PSB2YWxpZGF0b3IuY3VycmVudEZvcm0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2VsZWN0IG9ubHkgdGhlIGZpcnN0IGVsZW1lbnQgZm9yIGVhY2ggbmFtZSwgYW5kIG9ubHkgdGhvc2Ugd2l0aCBydWxlcyBzcGVjaWZpZWRcblx0XHRcdFx0aWYgKCBuYW1lIGluIHJ1bGVzQ2FjaGUgfHwgIXZhbGlkYXRvci5vYmplY3RMZW5ndGgoICQoIHRoaXMgKS5ydWxlcygpICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cnVsZXNDYWNoZVsgbmFtZSBdID0gdHJ1ZTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9ICk7XG5cdFx0fSxcblxuXHRcdGNsZWFuOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gJCggc2VsZWN0b3IgKVsgMCBdO1xuXHRcdH0sXG5cblx0XHRlcnJvcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVycm9yQ2xhc3MgPSB0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3Muc3BsaXQoIFwiIFwiICkuam9pbiggXCIuXCIgKTtcblx0XHRcdHJldHVybiAkKCB0aGlzLnNldHRpbmdzLmVycm9yRWxlbWVudCArIFwiLlwiICsgZXJyb3JDbGFzcywgdGhpcy5lcnJvckNvbnRleHQgKTtcblx0XHR9LFxuXG5cdFx0cmVzZXRJbnRlcm5hbHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5zdWNjZXNzTGlzdCA9IFtdO1xuXHRcdFx0dGhpcy5lcnJvckxpc3QgPSBbXTtcblx0XHRcdHRoaXMuZXJyb3JNYXAgPSB7fTtcblx0XHRcdHRoaXMudG9TaG93ID0gJCggW10gKTtcblx0XHRcdHRoaXMudG9IaWRlID0gJCggW10gKTtcblx0XHR9LFxuXG5cdFx0cmVzZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5yZXNldEludGVybmFscygpO1xuXHRcdFx0dGhpcy5jdXJyZW50RWxlbWVudHMgPSAkKCBbXSApO1xuXHRcdH0sXG5cblx0XHRwcmVwYXJlRm9ybTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnJlc2V0KCk7XG5cdFx0XHR0aGlzLnRvSGlkZSA9IHRoaXMuZXJyb3JzKCkuYWRkKCB0aGlzLmNvbnRhaW5lcnMgKTtcblx0XHR9LFxuXG5cdFx0cHJlcGFyZUVsZW1lbnQ6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0dGhpcy5yZXNldCgpO1xuXHRcdFx0dGhpcy50b0hpZGUgPSB0aGlzLmVycm9yc0ZvciggZWxlbWVudCApO1xuXHRcdH0sXG5cblx0XHRlbGVtZW50VmFsdWU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0dmFyICRlbGVtZW50ID0gJCggZWxlbWVudCApLFxuXHRcdFx0XHR0eXBlID0gZWxlbWVudC50eXBlLFxuXHRcdFx0XHRpc0NvbnRlbnRFZGl0YWJsZSA9IHR5cGVvZiAkZWxlbWVudC5hdHRyKCBcImNvbnRlbnRlZGl0YWJsZVwiICkgIT09IFwidW5kZWZpbmVkXCIgJiYgJGVsZW1lbnQuYXR0ciggXCJjb250ZW50ZWRpdGFibGVcIiApICE9PSBcImZhbHNlXCIsXG5cdFx0XHRcdHZhbCwgaWR4O1xuXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwicmFkaW9cIiB8fCB0eXBlID09PSBcImNoZWNrYm94XCIgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmZpbmRCeU5hbWUoIGVsZW1lbnQubmFtZSApLmZpbHRlciggXCI6Y2hlY2tlZFwiICkudmFsKCk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBlbGVtZW50LnZhbGlkaXR5ICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbWVudC52YWxpZGl0eS5iYWRJbnB1dCA/IFwiTmFOXCIgOiAkZWxlbWVudC52YWwoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBpc0NvbnRlbnRFZGl0YWJsZSApIHtcblx0XHRcdFx0dmFsID0gJGVsZW1lbnQudGV4dCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsID0gJGVsZW1lbnQudmFsKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdHlwZSA9PT0gXCJmaWxlXCIgKSB7XG5cblx0XHRcdFx0Ly8gTW9kZXJuIGJyb3dzZXIgKGNocm9tZSAmIHNhZmFyaSlcblx0XHRcdFx0aWYgKCB2YWwuc3Vic3RyKCAwLCAxMiApID09PSBcIkM6XFxcXGZha2VwYXRoXFxcXFwiICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWwuc3Vic3RyKCAxMiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTGVnYWN5IGJyb3dzZXJzXG5cdFx0XHRcdC8vIFVuaXgtYmFzZWQgcGF0aFxuXHRcdFx0XHRpZHggPSB2YWwubGFzdEluZGV4T2YoIFwiL1wiICk7XG5cdFx0XHRcdGlmICggaWR4ID49IDAgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbC5zdWJzdHIoIGlkeCArIDEgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdpbmRvd3MtYmFzZWQgcGF0aFxuXHRcdFx0XHRpZHggPSB2YWwubGFzdEluZGV4T2YoIFwiXFxcXFwiICk7XG5cdFx0XHRcdGlmICggaWR4ID49IDAgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbC5zdWJzdHIoIGlkeCArIDEgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEp1c3QgdGhlIGZpbGUgbmFtZVxuXHRcdFx0XHRyZXR1cm4gdmFsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHJldHVybiB2YWwucmVwbGFjZSggL1xcci9nLCBcIlwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH0sXG5cblx0XHRjaGVjazogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHRlbGVtZW50ID0gdGhpcy52YWxpZGF0aW9uVGFyZ2V0Rm9yKCB0aGlzLmNsZWFuKCBlbGVtZW50ICkgKTtcblxuXHRcdFx0dmFyIHJ1bGVzID0gJCggZWxlbWVudCApLnJ1bGVzKCksXG5cdFx0XHRcdHJ1bGVzQ291bnQgPSAkLm1hcCggcnVsZXMsIGZ1bmN0aW9uKCBuLCBpICkge1xuXHRcdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0XHR9ICkubGVuZ3RoLFxuXHRcdFx0XHRkZXBlbmRlbmN5TWlzbWF0Y2ggPSBmYWxzZSxcblx0XHRcdFx0dmFsID0gdGhpcy5lbGVtZW50VmFsdWUoIGVsZW1lbnQgKSxcblx0XHRcdFx0cmVzdWx0LCBtZXRob2QsIHJ1bGUsIG5vcm1hbGl6ZXI7XG5cblx0XHRcdC8vIFByaW9yaXRpemUgdGhlIGxvY2FsIG5vcm1hbGl6ZXIgZGVmaW5lZCBmb3IgdGhpcyBlbGVtZW50IG92ZXIgdGhlIGdsb2JhbCBvbmVcblx0XHRcdC8vIGlmIHRoZSBmb3JtZXIgZXhpc3RzLCBvdGhlcndpc2UgdXNlciB0aGUgZ2xvYmFsIG9uZSBpbiBjYXNlIGl0IGV4aXN0cy5cblx0XHRcdGlmICggdHlwZW9mIHJ1bGVzLm5vcm1hbGl6ZXIgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0bm9ybWFsaXplciA9IHJ1bGVzLm5vcm1hbGl6ZXI7XG5cdFx0XHR9IGVsc2UgaWYgKFx0dHlwZW9mIHRoaXMuc2V0dGluZ3Mubm9ybWFsaXplciA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRcdFx0XHRub3JtYWxpemVyID0gdGhpcy5zZXR0aW5ncy5ub3JtYWxpemVyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBub3JtYWxpemVyIGlzIGRlZmluZWQsIHRoZW4gY2FsbCBpdCB0byByZXRyZWl2ZSB0aGUgY2hhbmdlZCB2YWx1ZSBpbnN0ZWFkXG5cdFx0XHQvLyBvZiB1c2luZyB0aGUgcmVhbCBvbmUuXG5cdFx0XHQvLyBOb3RlIHRoYXQgYHRoaXNgIGluIHRoZSBub3JtYWxpemVyIGlzIGBlbGVtZW50YC5cblx0XHRcdGlmICggbm9ybWFsaXplciApIHtcblx0XHRcdFx0dmFsID0gbm9ybWFsaXplci5jYWxsKCBlbGVtZW50LCB2YWwgKTtcblxuXHRcdFx0XHQvLyBEZWxldGUgdGhlIG5vcm1hbGl6ZXIgZnJvbSBydWxlcyB0byBhdm9pZCB0cmVhdGluZyBpdCBhcyBhIHByZS1kZWZpbmVkIG1ldGhvZC5cblx0XHRcdFx0ZGVsZXRlIHJ1bGVzLm5vcm1hbGl6ZXI7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIG1ldGhvZCBpbiBydWxlcyApIHtcblx0XHRcdFx0cnVsZSA9IHsgbWV0aG9kOiBtZXRob2QsIHBhcmFtZXRlcnM6IHJ1bGVzWyBtZXRob2QgXSB9O1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJlc3VsdCA9ICQudmFsaWRhdG9yLm1ldGhvZHNbIG1ldGhvZCBdLmNhbGwoIHRoaXMsIHZhbCwgZWxlbWVudCwgcnVsZS5wYXJhbWV0ZXJzICk7XG5cblx0XHRcdFx0XHQvLyBJZiBhIG1ldGhvZCBpbmRpY2F0ZXMgdGhhdCB0aGUgZmllbGQgaXMgb3B0aW9uYWwgYW5kIHRoZXJlZm9yZSB2YWxpZCxcblx0XHRcdFx0XHQvLyBkb24ndCBtYXJrIGl0IGFzIHZhbGlkIHdoZW4gdGhlcmUgYXJlIG5vIG90aGVyIHJ1bGVzXG5cdFx0XHRcdFx0aWYgKCByZXN1bHQgPT09IFwiZGVwZW5kZW5jeS1taXNtYXRjaFwiICYmIHJ1bGVzQ291bnQgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRkZXBlbmRlbmN5TWlzbWF0Y2ggPSB0cnVlO1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRlcGVuZGVuY3lNaXNtYXRjaCA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCByZXN1bHQgPT09IFwicGVuZGluZ1wiICkge1xuXHRcdFx0XHRcdFx0dGhpcy50b0hpZGUgPSB0aGlzLnRvSGlkZS5ub3QoIHRoaXMuZXJyb3JzRm9yKCBlbGVtZW50ICkgKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICFyZXN1bHQgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmZvcm1hdEFuZEFkZCggZWxlbWVudCwgcnVsZSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLnNldHRpbmdzLmRlYnVnICYmIHdpbmRvdy5jb25zb2xlICkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coIFwiRXhjZXB0aW9uIG9jY3VycmVkIHdoZW4gY2hlY2tpbmcgZWxlbWVudCBcIiArIGVsZW1lbnQuaWQgKyBcIiwgY2hlY2sgdGhlICdcIiArIHJ1bGUubWV0aG9kICsgXCInIG1ldGhvZC5cIiwgZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IgKSB7XG5cdFx0XHRcdFx0XHRlLm1lc3NhZ2UgKz0gXCIuICBFeGNlcHRpb24gb2NjdXJyZWQgd2hlbiBjaGVja2luZyBlbGVtZW50IFwiICsgZWxlbWVudC5pZCArIFwiLCBjaGVjayB0aGUgJ1wiICsgcnVsZS5tZXRob2QgKyBcIicgbWV0aG9kLlwiO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICggZGVwZW5kZW5jeU1pc21hdGNoICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHRoaXMub2JqZWN0TGVuZ3RoKCBydWxlcyApICkge1xuXHRcdFx0XHR0aGlzLnN1Y2Nlc3NMaXN0LnB1c2goIGVsZW1lbnQgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBSZXR1cm4gdGhlIGN1c3RvbSBtZXNzYWdlIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgdmFsaWRhdGlvbiBtZXRob2Rcblx0XHQvLyBzcGVjaWZpZWQgaW4gdGhlIGVsZW1lbnQncyBIVE1MNSBkYXRhIGF0dHJpYnV0ZVxuXHRcdC8vIHJldHVybiB0aGUgZ2VuZXJpYyBtZXNzYWdlIGlmIHByZXNlbnQgYW5kIG5vIG1ldGhvZCBzcGVjaWZpYyBtZXNzYWdlIGlzIHByZXNlbnRcblx0XHRjdXN0b21EYXRhTWVzc2FnZTogZnVuY3Rpb24oIGVsZW1lbnQsIG1ldGhvZCApIHtcblx0XHRcdHJldHVybiAkKCBlbGVtZW50ICkuZGF0YSggXCJtc2dcIiArIG1ldGhvZC5jaGFyQXQoIDAgKS50b1VwcGVyQ2FzZSgpICtcblx0XHRcdFx0bWV0aG9kLnN1YnN0cmluZyggMSApLnRvTG93ZXJDYXNlKCkgKSB8fCAkKCBlbGVtZW50ICkuZGF0YSggXCJtc2dcIiApO1xuXHRcdH0sXG5cblx0XHQvLyBSZXR1cm4gdGhlIGN1c3RvbSBtZXNzYWdlIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBuYW1lIGFuZCB2YWxpZGF0aW9uIG1ldGhvZFxuXHRcdGN1c3RvbU1lc3NhZ2U6IGZ1bmN0aW9uKCBuYW1lLCBtZXRob2QgKSB7XG5cdFx0XHR2YXIgbSA9IHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbIG5hbWUgXTtcblx0XHRcdHJldHVybiBtICYmICggbS5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nID8gbSA6IG1bIG1ldGhvZCBdICk7XG5cdFx0fSxcblxuXHRcdC8vIFJldHVybiB0aGUgZmlyc3QgZGVmaW5lZCBhcmd1bWVudCwgYWxsb3dpbmcgZW1wdHkgc3RyaW5nc1xuXHRcdGZpbmREZWZpbmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdGZvciAoIHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBhcmd1bWVudHNbIGkgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBhcmd1bWVudHNbIGkgXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9LFxuXG5cdFx0Ly8gVGhlIHNlY29uZCBwYXJhbWV0ZXIgJ3J1bGUnIHVzZWQgdG8gYmUgYSBzdHJpbmcsIGFuZCBleHRlbmRlZCB0byBhbiBvYmplY3QgbGl0ZXJhbFxuXHRcdC8vIG9mIHRoZSBmb2xsb3dpbmcgZm9ybTpcblx0XHQvLyBydWxlID0ge1xuXHRcdC8vICAgICBtZXRob2Q6IFwibWV0aG9kIG5hbWVcIixcblx0XHQvLyAgICAgcGFyYW1ldGVyczogXCJ0aGUgZ2l2ZW4gbWV0aG9kIHBhcmFtZXRlcnNcIlxuXHRcdC8vIH1cblx0XHQvL1xuXHRcdC8vIFRoZSBvbGQgYmVoYXZpb3Igc3RpbGwgc3VwcG9ydGVkLCBrZXB0IHRvIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aFxuXHRcdC8vIG9sZCBjb2RlLCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cdFx0ZGVmYXVsdE1lc3NhZ2U6IGZ1bmN0aW9uKCBlbGVtZW50LCBydWxlICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgcnVsZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0cnVsZSA9IHsgbWV0aG9kOiBydWxlIH07XG5cdFx0XHR9XG5cblx0XHRcdHZhciBtZXNzYWdlID0gdGhpcy5maW5kRGVmaW5lZChcblx0XHRcdFx0XHR0aGlzLmN1c3RvbU1lc3NhZ2UoIGVsZW1lbnQubmFtZSwgcnVsZS5tZXRob2QgKSxcblx0XHRcdFx0XHR0aGlzLmN1c3RvbURhdGFNZXNzYWdlKCBlbGVtZW50LCBydWxlLm1ldGhvZCApLFxuXG5cdFx0XHRcdFx0Ly8gJ3RpdGxlJyBpcyBuZXZlciB1bmRlZmluZWQsIHNvIGhhbmRsZSBlbXB0eSBzdHJpbmcgYXMgdW5kZWZpbmVkXG5cdFx0XHRcdFx0IXRoaXMuc2V0dGluZ3MuaWdub3JlVGl0bGUgJiYgZWxlbWVudC50aXRsZSB8fCB1bmRlZmluZWQsXG5cdFx0XHRcdFx0JC52YWxpZGF0b3IubWVzc2FnZXNbIHJ1bGUubWV0aG9kIF0sXG5cdFx0XHRcdFx0XCI8c3Ryb25nPldhcm5pbmc6IE5vIG1lc3NhZ2UgZGVmaW5lZCBmb3IgXCIgKyBlbGVtZW50Lm5hbWUgKyBcIjwvc3Ryb25nPlwiXG5cdFx0XHRcdCksXG5cdFx0XHRcdHRoZXJlZ2V4ID0gL1xcJD9cXHsoXFxkKylcXH0vZztcblx0XHRcdGlmICggdHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0bWVzc2FnZSA9IG1lc3NhZ2UuY2FsbCggdGhpcywgcnVsZS5wYXJhbWV0ZXJzLCBlbGVtZW50ICk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0aGVyZWdleC50ZXN0KCBtZXNzYWdlICkgKSB7XG5cdFx0XHRcdG1lc3NhZ2UgPSAkLnZhbGlkYXRvci5mb3JtYXQoIG1lc3NhZ2UucmVwbGFjZSggdGhlcmVnZXgsIFwieyQxfVwiICksIHJ1bGUucGFyYW1ldGVycyApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWVzc2FnZTtcblx0XHR9LFxuXG5cdFx0Zm9ybWF0QW5kQWRkOiBmdW5jdGlvbiggZWxlbWVudCwgcnVsZSApIHtcblx0XHRcdHZhciBtZXNzYWdlID0gdGhpcy5kZWZhdWx0TWVzc2FnZSggZWxlbWVudCwgcnVsZSApO1xuXG5cdFx0XHR0aGlzLmVycm9yTGlzdC5wdXNoKCB7XG5cdFx0XHRcdG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnQsXG5cdFx0XHRcdG1ldGhvZDogcnVsZS5tZXRob2Rcblx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy5lcnJvck1hcFsgZWxlbWVudC5uYW1lIF0gPSBtZXNzYWdlO1xuXHRcdFx0dGhpcy5zdWJtaXR0ZWRbIGVsZW1lbnQubmFtZSBdID0gbWVzc2FnZTtcblx0XHR9LFxuXG5cdFx0YWRkV3JhcHBlcjogZnVuY3Rpb24oIHRvVG9nZ2xlICkge1xuXHRcdFx0aWYgKCB0aGlzLnNldHRpbmdzLndyYXBwZXIgKSB7XG5cdFx0XHRcdHRvVG9nZ2xlID0gdG9Ub2dnbGUuYWRkKCB0b1RvZ2dsZS5wYXJlbnQoIHRoaXMuc2V0dGluZ3Mud3JhcHBlciApICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdG9Ub2dnbGU7XG5cdFx0fSxcblxuXHRcdGRlZmF1bHRTaG93RXJyb3JzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpLCBlbGVtZW50cywgZXJyb3I7XG5cdFx0XHRmb3IgKCBpID0gMDsgdGhpcy5lcnJvckxpc3RbIGkgXTsgaSsrICkge1xuXHRcdFx0XHRlcnJvciA9IHRoaXMuZXJyb3JMaXN0WyBpIF07XG5cdFx0XHRcdGlmICggdGhpcy5zZXR0aW5ncy5oaWdobGlnaHQgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5oaWdobGlnaHQuY2FsbCggdGhpcywgZXJyb3IuZWxlbWVudCwgdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLCB0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnNob3dMYWJlbCggZXJyb3IuZWxlbWVudCwgZXJyb3IubWVzc2FnZSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB0aGlzLmVycm9yTGlzdC5sZW5ndGggKSB7XG5cdFx0XHRcdHRoaXMudG9TaG93ID0gdGhpcy50b1Nob3cuYWRkKCB0aGlzLmNvbnRhaW5lcnMgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdGhpcy5zZXR0aW5ncy5zdWNjZXNzICkge1xuXHRcdFx0XHRmb3IgKCBpID0gMDsgdGhpcy5zdWNjZXNzTGlzdFsgaSBdOyBpKysgKSB7XG5cdFx0XHRcdFx0dGhpcy5zaG93TGFiZWwoIHRoaXMuc3VjY2Vzc0xpc3RbIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBlbGVtZW50cyA9IHRoaXMudmFsaWRFbGVtZW50cygpOyBlbGVtZW50c1sgaSBdOyBpKysgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodC5jYWxsKCB0aGlzLCBlbGVtZW50c1sgaSBdLCB0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MsIHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnRvSGlkZSA9IHRoaXMudG9IaWRlLm5vdCggdGhpcy50b1Nob3cgKTtcblx0XHRcdHRoaXMuaGlkZUVycm9ycygpO1xuXHRcdFx0dGhpcy5hZGRXcmFwcGVyKCB0aGlzLnRvU2hvdyApLnNob3coKTtcblx0XHR9LFxuXG5cdFx0dmFsaWRFbGVtZW50czogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jdXJyZW50RWxlbWVudHMubm90KCB0aGlzLmludmFsaWRFbGVtZW50cygpICk7XG5cdFx0fSxcblxuXHRcdGludmFsaWRFbGVtZW50czogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gJCggdGhpcy5lcnJvckxpc3QgKS5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5lbGVtZW50O1xuXHRcdFx0fSApO1xuXHRcdH0sXG5cblx0XHRzaG93TGFiZWw6IGZ1bmN0aW9uKCBlbGVtZW50LCBtZXNzYWdlICkge1xuXHRcdFx0dmFyIHBsYWNlLCBncm91cCwgZXJyb3JJRCwgdixcblx0XHRcdFx0ZXJyb3IgPSB0aGlzLmVycm9yc0ZvciggZWxlbWVudCApLFxuXHRcdFx0XHRlbGVtZW50SUQgPSB0aGlzLmlkT3JOYW1lKCBlbGVtZW50ICksXG5cdFx0XHRcdGRlc2NyaWJlZEJ5ID0gJCggZWxlbWVudCApLmF0dHIoIFwiYXJpYS1kZXNjcmliZWRieVwiICk7XG5cblx0XHRcdGlmICggZXJyb3IubGVuZ3RoICkge1xuXG5cdFx0XHRcdC8vIFJlZnJlc2ggZXJyb3Ivc3VjY2VzcyBjbGFzc1xuXHRcdFx0XHRlcnJvci5yZW1vdmVDbGFzcyggdGhpcy5zZXR0aW5ncy52YWxpZENsYXNzICkuYWRkQ2xhc3MoIHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyApO1xuXG5cdFx0XHRcdC8vIFJlcGxhY2UgbWVzc2FnZSBvbiBleGlzdGluZyBsYWJlbFxuXHRcdFx0XHRlcnJvci5odG1sKCBtZXNzYWdlICk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIENyZWF0ZSBlcnJvciBlbGVtZW50XG5cdFx0XHRcdGVycm9yID0gJCggXCI8XCIgKyB0aGlzLnNldHRpbmdzLmVycm9yRWxlbWVudCArIFwiPlwiIClcblx0XHRcdFx0XHQuYXR0ciggXCJpZFwiLCBlbGVtZW50SUQgKyBcIi1lcnJvclwiIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyApXG5cdFx0XHRcdFx0Lmh0bWwoIG1lc3NhZ2UgfHwgXCJcIiApO1xuXG5cdFx0XHRcdC8vIE1haW50YWluIHJlZmVyZW5jZSB0byB0aGUgZWxlbWVudCB0byBiZSBwbGFjZWQgaW50byB0aGUgRE9NXG5cdFx0XHRcdHBsYWNlID0gZXJyb3I7XG5cdFx0XHRcdGlmICggdGhpcy5zZXR0aW5ncy53cmFwcGVyICkge1xuXG5cdFx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGlzIHZpc2libGUsIGV2ZW4gaW4gSUVcblx0XHRcdFx0XHQvLyBhY3R1YWxseSBzaG93aW5nIHRoZSB3cmFwcGVkIGVsZW1lbnQgaXMgaGFuZGxlZCBlbHNld2hlcmVcblx0XHRcdFx0XHRwbGFjZSA9IGVycm9yLmhpZGUoKS5zaG93KCkud3JhcCggXCI8XCIgKyB0aGlzLnNldHRpbmdzLndyYXBwZXIgKyBcIi8+XCIgKS5wYXJlbnQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHRoaXMubGFiZWxDb250YWluZXIubGVuZ3RoICkge1xuXHRcdFx0XHRcdHRoaXMubGFiZWxDb250YWluZXIuYXBwZW5kKCBwbGFjZSApO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCB0aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50ICkge1xuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQuY2FsbCggdGhpcywgcGxhY2UsICQoIGVsZW1lbnQgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHBsYWNlLmluc2VydEFmdGVyKCBlbGVtZW50ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBMaW5rIGVycm9yIGJhY2sgdG8gdGhlIGVsZW1lbnRcblx0XHRcdFx0aWYgKCBlcnJvci5pcyggXCJsYWJlbFwiICkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiB0aGUgZXJyb3IgaXMgYSBsYWJlbCwgdGhlbiBhc3NvY2lhdGUgdXNpbmcgJ2Zvcidcblx0XHRcdFx0XHRlcnJvci5hdHRyKCBcImZvclwiLCBlbGVtZW50SUQgKTtcblxuXHRcdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGlzIG5vdCBhIGNoaWxkIG9mIGFuIGFzc29jaWF0ZWQgbGFiZWwsIHRoZW4gaXQncyBuZWNlc3Nhcnlcblx0XHRcdFx0XHQvLyB0byBleHBsaWNpdGx5IGFwcGx5IGFyaWEtZGVzY3JpYmVkYnlcblx0XHRcdFx0fSBlbHNlIGlmICggZXJyb3IucGFyZW50cyggXCJsYWJlbFtmb3I9J1wiICsgdGhpcy5lc2NhcGVDc3NNZXRhKCBlbGVtZW50SUQgKSArIFwiJ11cIiApLmxlbmd0aCA9PT0gMCApIHtcblx0XHRcdFx0XHRlcnJvcklEID0gZXJyb3IuYXR0ciggXCJpZFwiICk7XG5cblx0XHRcdFx0XHQvLyBSZXNwZWN0IGV4aXN0aW5nIG5vbi1lcnJvciBhcmlhLWRlc2NyaWJlZGJ5XG5cdFx0XHRcdFx0aWYgKCAhZGVzY3JpYmVkQnkgKSB7XG5cdFx0XHRcdFx0XHRkZXNjcmliZWRCeSA9IGVycm9ySUQ7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggIWRlc2NyaWJlZEJ5Lm1hdGNoKCBuZXcgUmVnRXhwKCBcIlxcXFxiXCIgKyB0aGlzLmVzY2FwZUNzc01ldGEoIGVycm9ySUQgKSArIFwiXFxcXGJcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEFkZCB0byBlbmQgb2YgbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG5cdFx0XHRcdFx0XHRkZXNjcmliZWRCeSArPSBcIiBcIiArIGVycm9ySUQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCQoIGVsZW1lbnQgKS5hdHRyKCBcImFyaWEtZGVzY3JpYmVkYnlcIiwgZGVzY3JpYmVkQnkgKTtcblxuXHRcdFx0XHRcdC8vIElmIHRoaXMgZWxlbWVudCBpcyBncm91cGVkLCB0aGVuIGFzc2lnbiB0byBhbGwgZWxlbWVudHMgaW4gdGhlIHNhbWUgZ3JvdXBcblx0XHRcdFx0XHRncm91cCA9IHRoaXMuZ3JvdXBzWyBlbGVtZW50Lm5hbWUgXTtcblx0XHRcdFx0XHRpZiAoIGdyb3VwICkge1xuXHRcdFx0XHRcdFx0diA9IHRoaXM7XG5cdFx0XHRcdFx0XHQkLmVhY2goIHYuZ3JvdXBzLCBmdW5jdGlvbiggbmFtZSwgdGVzdGdyb3VwICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIHRlc3Rncm91cCA9PT0gZ3JvdXAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0JCggXCJbbmFtZT0nXCIgKyB2LmVzY2FwZUNzc01ldGEoIG5hbWUgKSArIFwiJ11cIiwgdi5jdXJyZW50Rm9ybSApXG5cdFx0XHRcdFx0XHRcdFx0XHQuYXR0ciggXCJhcmlhLWRlc2NyaWJlZGJ5XCIsIGVycm9yLmF0dHIoIFwiaWRcIiApICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICggIW1lc3NhZ2UgJiYgdGhpcy5zZXR0aW5ncy5zdWNjZXNzICkge1xuXHRcdFx0XHRlcnJvci50ZXh0KCBcIlwiICk7XG5cdFx0XHRcdGlmICggdHlwZW9mIHRoaXMuc2V0dGluZ3Muc3VjY2VzcyA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0XHRlcnJvci5hZGRDbGFzcyggdGhpcy5zZXR0aW5ncy5zdWNjZXNzICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5zdWNjZXNzKCBlcnJvciwgZWxlbWVudCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnRvU2hvdyA9IHRoaXMudG9TaG93LmFkZCggZXJyb3IgKTtcblx0XHR9LFxuXG5cdFx0ZXJyb3JzRm9yOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRcdHZhciBuYW1lID0gdGhpcy5lc2NhcGVDc3NNZXRhKCB0aGlzLmlkT3JOYW1lKCBlbGVtZW50ICkgKSxcblx0XHRcdFx0ZGVzY3JpYmVyID0gJCggZWxlbWVudCApLmF0dHIoIFwiYXJpYS1kZXNjcmliZWRieVwiICksXG5cdFx0XHRcdHNlbGVjdG9yID0gXCJsYWJlbFtmb3I9J1wiICsgbmFtZSArIFwiJ10sIGxhYmVsW2Zvcj0nXCIgKyBuYW1lICsgXCInXSAqXCI7XG5cblx0XHRcdC8vICdhcmlhLWRlc2NyaWJlZGJ5JyBzaG91bGQgZGlyZWN0bHkgcmVmZXJlbmNlIHRoZSBlcnJvciBlbGVtZW50XG5cdFx0XHRpZiAoIGRlc2NyaWJlciApIHtcblx0XHRcdFx0c2VsZWN0b3IgPSBzZWxlY3RvciArIFwiLCAjXCIgKyB0aGlzLmVzY2FwZUNzc01ldGEoIGRlc2NyaWJlciApXG5cdFx0XHRcdFx0LnJlcGxhY2UoIC9cXHMrL2csIFwiLCAjXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0LmVycm9ycygpXG5cdFx0XHRcdC5maWx0ZXIoIHNlbGVjdG9yICk7XG5cdFx0fSxcblxuXHRcdC8vIFNlZSBodHRwczovL2FwaS5qcXVlcnkuY29tL2NhdGVnb3J5L3NlbGVjdG9ycy8sIGZvciBDU1Ncblx0XHQvLyBtZXRhLWNoYXJhY3RlcnMgdGhhdCBzaG91bGQgYmUgZXNjYXBlZCBpbiBvcmRlciB0byBiZSB1c2VkIHdpdGggSlF1ZXJ5XG5cdFx0Ly8gYXMgYSBsaXRlcmFsIHBhcnQgb2YgYSBuYW1lL2lkIG9yIGFueSBzZWxlY3Rvci5cblx0XHRlc2NhcGVDc3NNZXRhOiBmdW5jdGlvbiggc3RyaW5nICkge1xuXHRcdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCAvKFtcXFxcIVwiIyQlJicoKSorLC4vOjs8PT4/QFxcW1xcXV5ge3x9fl0pL2csIFwiXFxcXCQxXCIgKTtcblx0XHR9LFxuXG5cdFx0aWRPck5hbWU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ3JvdXBzWyBlbGVtZW50Lm5hbWUgXSB8fCAoIHRoaXMuY2hlY2thYmxlKCBlbGVtZW50ICkgPyBlbGVtZW50Lm5hbWUgOiBlbGVtZW50LmlkIHx8IGVsZW1lbnQubmFtZSApO1xuXHRcdH0sXG5cblx0XHR2YWxpZGF0aW9uVGFyZ2V0Rm9yOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblxuXHRcdFx0Ly8gSWYgcmFkaW8vY2hlY2tib3gsIHZhbGlkYXRlIGZpcnN0IGVsZW1lbnQgaW4gZ3JvdXAgaW5zdGVhZFxuXHRcdFx0aWYgKCB0aGlzLmNoZWNrYWJsZSggZWxlbWVudCApICkge1xuXHRcdFx0XHRlbGVtZW50ID0gdGhpcy5maW5kQnlOYW1lKCBlbGVtZW50Lm5hbWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWx3YXlzIGFwcGx5IGlnbm9yZSBmaWx0ZXJcblx0XHRcdHJldHVybiAkKCBlbGVtZW50ICkubm90KCB0aGlzLnNldHRpbmdzLmlnbm9yZSApWyAwIF07XG5cdFx0fSxcblxuXHRcdGNoZWNrYWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gKCAvcmFkaW98Y2hlY2tib3gvaSApLnRlc3QoIGVsZW1lbnQudHlwZSApO1xuXHRcdH0sXG5cblx0XHRmaW5kQnlOYW1lOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRcdHJldHVybiAkKCB0aGlzLmN1cnJlbnRGb3JtICkuZmluZCggXCJbbmFtZT0nXCIgKyB0aGlzLmVzY2FwZUNzc01ldGEoIG5hbWUgKSArIFwiJ11cIiApO1xuXHRcdH0sXG5cblx0XHRnZXRMZW5ndGg6IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0XHRcdHN3aXRjaCAoIGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdGNhc2UgXCJzZWxlY3RcIjpcblx0XHRcdFx0cmV0dXJuICQoIFwib3B0aW9uOnNlbGVjdGVkXCIsIGVsZW1lbnQgKS5sZW5ndGg7XG5cdFx0XHRjYXNlIFwiaW5wdXRcIjpcblx0XHRcdFx0aWYgKCB0aGlzLmNoZWNrYWJsZSggZWxlbWVudCApICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmZpbmRCeU5hbWUoIGVsZW1lbnQubmFtZSApLmZpbHRlciggXCI6Y2hlY2tlZFwiICkubGVuZ3RoO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdmFsdWUubGVuZ3RoO1xuXHRcdH0sXG5cblx0XHRkZXBlbmQ6IGZ1bmN0aW9uKCBwYXJhbSwgZWxlbWVudCApIHtcblx0XHRcdHJldHVybiB0aGlzLmRlcGVuZFR5cGVzWyB0eXBlb2YgcGFyYW0gXSA/IHRoaXMuZGVwZW5kVHlwZXNbIHR5cGVvZiBwYXJhbSBdKCBwYXJhbSwgZWxlbWVudCApIDogdHJ1ZTtcblx0XHR9LFxuXG5cdFx0ZGVwZW5kVHlwZXM6IHtcblx0XHRcdFwiYm9vbGVhblwiOiBmdW5jdGlvbiggcGFyYW0gKSB7XG5cdFx0XHRcdHJldHVybiBwYXJhbTtcblx0XHRcdH0sXG5cdFx0XHRcInN0cmluZ1wiOiBmdW5jdGlvbiggcGFyYW0sIGVsZW1lbnQgKSB7XG5cdFx0XHRcdHJldHVybiAhISQoIHBhcmFtLCBlbGVtZW50LmZvcm0gKS5sZW5ndGg7XG5cdFx0XHR9LFxuXHRcdFx0XCJmdW5jdGlvblwiOiBmdW5jdGlvbiggcGFyYW0sIGVsZW1lbnQgKSB7XG5cdFx0XHRcdHJldHVybiBwYXJhbSggZWxlbWVudCApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRvcHRpb25hbDogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHR2YXIgdmFsID0gdGhpcy5lbGVtZW50VmFsdWUoIGVsZW1lbnQgKTtcblx0XHRcdHJldHVybiAhJC52YWxpZGF0b3IubWV0aG9kcy5yZXF1aXJlZC5jYWxsKCB0aGlzLCB2YWwsIGVsZW1lbnQgKSAmJiBcImRlcGVuZGVuY3ktbWlzbWF0Y2hcIjtcblx0XHR9LFxuXG5cdFx0c3RhcnRSZXF1ZXN0OiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRcdGlmICggIXRoaXMucGVuZGluZ1sgZWxlbWVudC5uYW1lIF0gKSB7XG5cdFx0XHRcdHRoaXMucGVuZGluZ1JlcXVlc3QrKztcblx0XHRcdFx0JCggZWxlbWVudCApLmFkZENsYXNzKCB0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyApO1xuXHRcdFx0XHR0aGlzLnBlbmRpbmdbIGVsZW1lbnQubmFtZSBdID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c3RvcFJlcXVlc3Q6IGZ1bmN0aW9uKCBlbGVtZW50LCB2YWxpZCApIHtcblx0XHRcdHRoaXMucGVuZGluZ1JlcXVlc3QtLTtcblxuXHRcdFx0Ly8gU29tZXRpbWVzIHN5bmNocm9uaXphdGlvbiBmYWlscywgbWFrZSBzdXJlIHBlbmRpbmdSZXF1ZXN0IGlzIG5ldmVyIDwgMFxuXHRcdFx0aWYgKCB0aGlzLnBlbmRpbmdSZXF1ZXN0IDwgMCApIHtcblx0XHRcdFx0dGhpcy5wZW5kaW5nUmVxdWVzdCA9IDA7XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgdGhpcy5wZW5kaW5nWyBlbGVtZW50Lm5hbWUgXTtcblx0XHRcdCQoIGVsZW1lbnQgKS5yZW1vdmVDbGFzcyggdGhpcy5zZXR0aW5ncy5wZW5kaW5nQ2xhc3MgKTtcblx0XHRcdGlmICggdmFsaWQgJiYgdGhpcy5wZW5kaW5nUmVxdWVzdCA9PT0gMCAmJiB0aGlzLmZvcm1TdWJtaXR0ZWQgJiYgdGhpcy5mb3JtKCkgKSB7XG5cdFx0XHRcdCQoIHRoaXMuY3VycmVudEZvcm0gKS5zdWJtaXQoKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgdGhlIGhpZGRlbiBpbnB1dCB0aGF0IHdhcyB1c2VkIGFzIGEgcmVwbGFjZW1lbnQgZm9yIHRoZVxuXHRcdFx0XHQvLyBtaXNzaW5nIHN1Ym1pdCBidXR0b24uIFRoZSBoaWRkZW4gaW5wdXQgaXMgYWRkZWQgYnkgYGhhbmRsZSgpYFxuXHRcdFx0XHQvLyB0byBlbnN1cmUgdGhhdCB0aGUgdmFsdWUgb2YgdGhlIHVzZWQgc3VibWl0IGJ1dHRvbiBpcyBwYXNzZWQgb25cblx0XHRcdFx0Ly8gZm9yIHNjcmlwdGVkIHN1Ym1pdHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kXG5cdFx0XHRcdGlmICggdGhpcy5zdWJtaXRCdXR0b24gKSB7XG5cdFx0XHRcdFx0JCggXCJpbnB1dDpoaWRkZW5bbmFtZT0nXCIgKyB0aGlzLnN1Ym1pdEJ1dHRvbi5uYW1lICsgXCInXVwiLCB0aGlzLmN1cnJlbnRGb3JtICkucmVtb3ZlKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmZvcm1TdWJtaXR0ZWQgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoICF2YWxpZCAmJiB0aGlzLnBlbmRpbmdSZXF1ZXN0ID09PSAwICYmIHRoaXMuZm9ybVN1Ym1pdHRlZCApIHtcblx0XHRcdFx0JCggdGhpcy5jdXJyZW50Rm9ybSApLnRyaWdnZXJIYW5kbGVyKCBcImludmFsaWQtZm9ybVwiLCBbIHRoaXMgXSApO1xuXHRcdFx0XHR0aGlzLmZvcm1TdWJtaXR0ZWQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0cHJldmlvdXNWYWx1ZTogZnVuY3Rpb24oIGVsZW1lbnQsIG1ldGhvZCApIHtcblx0XHRcdG1ldGhvZCA9IHR5cGVvZiBtZXRob2QgPT09IFwic3RyaW5nXCIgJiYgbWV0aG9kIHx8IFwicmVtb3RlXCI7XG5cblx0XHRcdHJldHVybiAkLmRhdGEoIGVsZW1lbnQsIFwicHJldmlvdXNWYWx1ZVwiICkgfHwgJC5kYXRhKCBlbGVtZW50LCBcInByZXZpb3VzVmFsdWVcIiwge1xuXHRcdFx0XHRvbGQ6IG51bGwsXG5cdFx0XHRcdHZhbGlkOiB0cnVlLFxuXHRcdFx0XHRtZXNzYWdlOiB0aGlzLmRlZmF1bHRNZXNzYWdlKCBlbGVtZW50LCB7IG1ldGhvZDogbWV0aG9kIH0gKVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cblx0XHQvLyBDbGVhbnMgdXAgYWxsIGZvcm1zIGFuZCBlbGVtZW50cywgcmVtb3ZlcyB2YWxpZGF0b3Itc3BlY2lmaWMgZXZlbnRzXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnJlc2V0Rm9ybSgpO1xuXG5cdFx0XHQkKCB0aGlzLmN1cnJlbnRGb3JtIClcblx0XHRcdFx0Lm9mZiggXCIudmFsaWRhdGVcIiApXG5cdFx0XHRcdC5yZW1vdmVEYXRhKCBcInZhbGlkYXRvclwiIClcblx0XHRcdFx0LmZpbmQoIFwiLnZhbGlkYXRlLWVxdWFsVG8tYmx1clwiIClcblx0XHRcdFx0XHQub2ZmKCBcIi52YWxpZGF0ZS1lcXVhbFRvXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ2YWxpZGF0ZS1lcXVhbFRvLWJsdXJcIiApXG5cdFx0XHRcdC5maW5kKCBcIi52YWxpZGF0ZS1sZXNzVGhhbi1ibHVyXCIgKVxuXHRcdFx0XHRcdC5vZmYoIFwiLnZhbGlkYXRlLWxlc3NUaGFuXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ2YWxpZGF0ZS1sZXNzVGhhbi1ibHVyXCIgKVxuXHRcdFx0XHQuZmluZCggXCIudmFsaWRhdGUtbGVzc1RoYW5FcXVhbC1ibHVyXCIgKVxuXHRcdFx0XHRcdC5vZmYoIFwiLnZhbGlkYXRlLWxlc3NUaGFuRXF1YWxcIiApXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInZhbGlkYXRlLWxlc3NUaGFuRXF1YWwtYmx1clwiIClcblx0XHRcdFx0LmZpbmQoIFwiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwtYmx1clwiIClcblx0XHRcdFx0XHQub2ZmKCBcIi52YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ2YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsLWJsdXJcIiApXG5cdFx0XHRcdC5maW5kKCBcIi52YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyXCIgKVxuXHRcdFx0XHRcdC5vZmYoIFwiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ2YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyXCIgKTtcblx0XHR9XG5cblx0fSxcblxuXHRjbGFzc1J1bGVTZXR0aW5nczoge1xuXHRcdHJlcXVpcmVkOiB7IHJlcXVpcmVkOiB0cnVlIH0sXG5cdFx0ZW1haWw6IHsgZW1haWw6IHRydWUgfSxcblx0XHR1cmw6IHsgdXJsOiB0cnVlIH0sXG5cdFx0ZGF0ZTogeyBkYXRlOiB0cnVlIH0sXG5cdFx0ZGF0ZUlTTzogeyBkYXRlSVNPOiB0cnVlIH0sXG5cdFx0bnVtYmVyOiB7IG51bWJlcjogdHJ1ZSB9LFxuXHRcdGRpZ2l0czogeyBkaWdpdHM6IHRydWUgfSxcblx0XHRjcmVkaXRjYXJkOiB7IGNyZWRpdGNhcmQ6IHRydWUgfVxuXHR9LFxuXG5cdGFkZENsYXNzUnVsZXM6IGZ1bmN0aW9uKCBjbGFzc05hbWUsIHJ1bGVzICkge1xuXHRcdGlmICggY2xhc3NOYW1lLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgKSB7XG5cdFx0XHR0aGlzLmNsYXNzUnVsZVNldHRpbmdzWyBjbGFzc05hbWUgXSA9IHJ1bGVzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkLmV4dGVuZCggdGhpcy5jbGFzc1J1bGVTZXR0aW5ncywgY2xhc3NOYW1lICk7XG5cdFx0fVxuXHR9LFxuXG5cdGNsYXNzUnVsZXM6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciBydWxlcyA9IHt9LFxuXHRcdFx0Y2xhc3NlcyA9ICQoIGVsZW1lbnQgKS5hdHRyKCBcImNsYXNzXCIgKTtcblxuXHRcdGlmICggY2xhc3NlcyApIHtcblx0XHRcdCQuZWFjaCggY2xhc3Nlcy5zcGxpdCggXCIgXCIgKSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcyBpbiAkLnZhbGlkYXRvci5jbGFzc1J1bGVTZXR0aW5ncyApIHtcblx0XHRcdFx0XHQkLmV4dGVuZCggcnVsZXMsICQudmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzWyB0aGlzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcnVsZXM7XG5cdH0sXG5cblx0bm9ybWFsaXplQXR0cmlidXRlUnVsZTogZnVuY3Rpb24oIHJ1bGVzLCB0eXBlLCBtZXRob2QsIHZhbHVlICkge1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgdmFsdWUgdG8gYSBudW1iZXIgZm9yIG51bWJlciBpbnB1dHMsIGFuZCBmb3IgdGV4dCBmb3IgYmFja3dhcmRzIGNvbXBhYmlsaXR5XG5cdFx0Ly8gYWxsb3dzIHR5cGU9XCJkYXRlXCIgYW5kIG90aGVycyB0byBiZSBjb21wYXJlZCBhcyBzdHJpbmdzXG5cdFx0aWYgKCAvbWlufG1heHxzdGVwLy50ZXN0KCBtZXRob2QgKSAmJiAoIHR5cGUgPT09IG51bGwgfHwgL251bWJlcnxyYW5nZXx0ZXh0Ly50ZXN0KCB0eXBlICkgKSApIHtcblx0XHRcdHZhbHVlID0gTnVtYmVyKCB2YWx1ZSApO1xuXG5cdFx0XHQvLyBTdXBwb3J0IE9wZXJhIE1pbmksIHdoaWNoIHJldHVybnMgTmFOIGZvciB1bmRlZmluZWQgbWlubGVuZ3RoXG5cdFx0XHRpZiAoIGlzTmFOKCB2YWx1ZSApICkge1xuXHRcdFx0XHR2YWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlIHx8IHZhbHVlID09PSAwICkge1xuXHRcdFx0cnVsZXNbIG1ldGhvZCBdID0gdmFsdWU7XG5cdFx0fSBlbHNlIGlmICggdHlwZSA9PT0gbWV0aG9kICYmIHR5cGUgIT09IFwicmFuZ2VcIiApIHtcblxuXHRcdFx0Ly8gRXhjZXB0aW9uOiB0aGUganF1ZXJ5IHZhbGlkYXRlICdyYW5nZScgbWV0aG9kXG5cdFx0XHQvLyBkb2VzIG5vdCB0ZXN0IGZvciB0aGUgaHRtbDUgJ3JhbmdlJyB0eXBlXG5cdFx0XHRydWxlc1sgbWV0aG9kIF0gPSB0cnVlO1xuXHRcdH1cblx0fSxcblxuXHRhdHRyaWJ1dGVSdWxlczogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIHJ1bGVzID0ge30sXG5cdFx0XHQkZWxlbWVudCA9ICQoIGVsZW1lbnQgKSxcblx0XHRcdHR5cGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSxcblx0XHRcdG1ldGhvZCwgdmFsdWU7XG5cblx0XHRmb3IgKCBtZXRob2QgaW4gJC52YWxpZGF0b3IubWV0aG9kcyApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydCBmb3IgPGlucHV0IHJlcXVpcmVkPiBpbiBib3RoIGh0bWw1IGFuZCBvbGRlciBicm93c2Vyc1xuXHRcdFx0aWYgKCBtZXRob2QgPT09IFwicmVxdWlyZWRcIiApIHtcblx0XHRcdFx0dmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSggbWV0aG9kICk7XG5cblx0XHRcdFx0Ly8gU29tZSBicm93c2VycyByZXR1cm4gYW4gZW1wdHkgc3RyaW5nIGZvciB0aGUgcmVxdWlyZWQgYXR0cmlidXRlXG5cdFx0XHRcdC8vIGFuZCBub24tSFRNTDUgYnJvd3NlcnMgbWlnaHQgaGF2ZSByZXF1aXJlZD1cIlwiIG1hcmt1cFxuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBcIlwiICkge1xuXHRcdFx0XHRcdHZhbHVlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIG5vbi1IVE1MNSBicm93c2VycyB0byByZXR1cm4gYm9vbFxuXHRcdFx0XHR2YWx1ZSA9ICEhdmFsdWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWx1ZSA9ICRlbGVtZW50LmF0dHIoIG1ldGhvZCApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGUoIHJ1bGVzLCB0eXBlLCBtZXRob2QsIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0Ly8gJ21heGxlbmd0aCcgbWF5IGJlIHJldHVybmVkIGFzIC0xLCAyMTQ3NDgzNjQ3ICggSUUgKSBhbmQgNTI0Mjg4ICggc2FmYXJpICkgZm9yIHRleHQgaW5wdXRzXG5cdFx0aWYgKCBydWxlcy5tYXhsZW5ndGggJiYgLy0xfDIxNDc0ODM2NDd8NTI0Mjg4Ly50ZXN0KCBydWxlcy5tYXhsZW5ndGggKSApIHtcblx0XHRcdGRlbGV0ZSBydWxlcy5tYXhsZW5ndGg7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJ1bGVzO1xuXHR9LFxuXG5cdGRhdGFSdWxlczogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIHJ1bGVzID0ge30sXG5cdFx0XHQkZWxlbWVudCA9ICQoIGVsZW1lbnQgKSxcblx0XHRcdHR5cGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSxcblx0XHRcdG1ldGhvZCwgdmFsdWU7XG5cblx0XHRmb3IgKCBtZXRob2QgaW4gJC52YWxpZGF0b3IubWV0aG9kcyApIHtcblx0XHRcdHZhbHVlID0gJGVsZW1lbnQuZGF0YSggXCJydWxlXCIgKyBtZXRob2QuY2hhckF0KCAwICkudG9VcHBlckNhc2UoKSArIG1ldGhvZC5zdWJzdHJpbmcoIDEgKS50b0xvd2VyQ2FzZSgpICk7XG5cblx0XHRcdC8vIENhc3QgZW1wdHkgYXR0cmlidXRlcyBsaWtlIGBkYXRhLXJ1bGUtcmVxdWlyZWRgIHRvIGB0cnVlYFxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJcIiApIHtcblx0XHRcdFx0dmFsdWUgPSB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGUoIHJ1bGVzLCB0eXBlLCBtZXRob2QsIHZhbHVlICk7XG5cdFx0fVxuXHRcdHJldHVybiBydWxlcztcblx0fSxcblxuXHRzdGF0aWNSdWxlczogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIHJ1bGVzID0ge30sXG5cdFx0XHR2YWxpZGF0b3IgPSAkLmRhdGEoIGVsZW1lbnQuZm9ybSwgXCJ2YWxpZGF0b3JcIiApO1xuXG5cdFx0aWYgKCB2YWxpZGF0b3Iuc2V0dGluZ3MucnVsZXMgKSB7XG5cdFx0XHRydWxlcyA9ICQudmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUoIHZhbGlkYXRvci5zZXR0aW5ncy5ydWxlc1sgZWxlbWVudC5uYW1lIF0gKSB8fCB7fTtcblx0XHR9XG5cdFx0cmV0dXJuIHJ1bGVzO1xuXHR9LFxuXG5cdG5vcm1hbGl6ZVJ1bGVzOiBmdW5jdGlvbiggcnVsZXMsIGVsZW1lbnQgKSB7XG5cblx0XHQvLyBIYW5kbGUgZGVwZW5kZW5jeSBjaGVja1xuXHRcdCQuZWFjaCggcnVsZXMsIGZ1bmN0aW9uKCBwcm9wLCB2YWwgKSB7XG5cblx0XHRcdC8vIElnbm9yZSBydWxlIHdoZW4gcGFyYW0gaXMgZXhwbGljaXRseSBmYWxzZSwgZWcuIHJlcXVpcmVkOmZhbHNlXG5cdFx0XHRpZiAoIHZhbCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGRlbGV0ZSBydWxlc1sgcHJvcCBdO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHZhbC5wYXJhbSB8fCB2YWwuZGVwZW5kcyApIHtcblx0XHRcdFx0dmFyIGtlZXBSdWxlID0gdHJ1ZTtcblx0XHRcdFx0c3dpdGNoICggdHlwZW9mIHZhbC5kZXBlbmRzICkge1xuXHRcdFx0XHRjYXNlIFwic3RyaW5nXCI6XG5cdFx0XHRcdFx0a2VlcFJ1bGUgPSAhISQoIHZhbC5kZXBlbmRzLCBlbGVtZW50LmZvcm0gKS5sZW5ndGg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJmdW5jdGlvblwiOlxuXHRcdFx0XHRcdGtlZXBSdWxlID0gdmFsLmRlcGVuZHMuY2FsbCggZWxlbWVudCwgZWxlbWVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICgga2VlcFJ1bGUgKSB7XG5cdFx0XHRcdFx0cnVsZXNbIHByb3AgXSA9IHZhbC5wYXJhbSAhPT0gdW5kZWZpbmVkID8gdmFsLnBhcmFtIDogdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkLmRhdGEoIGVsZW1lbnQuZm9ybSwgXCJ2YWxpZGF0b3JcIiApLnJlc2V0RWxlbWVudHMoICQoIGVsZW1lbnQgKSApO1xuXHRcdFx0XHRcdGRlbGV0ZSBydWxlc1sgcHJvcCBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0Ly8gRXZhbHVhdGUgcGFyYW1ldGVyc1xuXHRcdCQuZWFjaCggcnVsZXMsIGZ1bmN0aW9uKCBydWxlLCBwYXJhbWV0ZXIgKSB7XG5cdFx0XHRydWxlc1sgcnVsZSBdID0gJC5pc0Z1bmN0aW9uKCBwYXJhbWV0ZXIgKSAmJiBydWxlICE9PSBcIm5vcm1hbGl6ZXJcIiA/IHBhcmFtZXRlciggZWxlbWVudCApIDogcGFyYW1ldGVyO1xuXHRcdH0gKTtcblxuXHRcdC8vIENsZWFuIG51bWJlciBwYXJhbWV0ZXJzXG5cdFx0JC5lYWNoKCBbIFwibWlubGVuZ3RoXCIsIFwibWF4bGVuZ3RoXCIgXSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHJ1bGVzWyB0aGlzIF0gKSB7XG5cdFx0XHRcdHJ1bGVzWyB0aGlzIF0gPSBOdW1iZXIoIHJ1bGVzWyB0aGlzIF0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0JC5lYWNoKCBbIFwicmFuZ2VsZW5ndGhcIiwgXCJyYW5nZVwiIF0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHBhcnRzO1xuXHRcdFx0aWYgKCBydWxlc1sgdGhpcyBdICkge1xuXHRcdFx0XHRpZiAoICQuaXNBcnJheSggcnVsZXNbIHRoaXMgXSApICkge1xuXHRcdFx0XHRcdHJ1bGVzWyB0aGlzIF0gPSBbIE51bWJlciggcnVsZXNbIHRoaXMgXVsgMCBdICksIE51bWJlciggcnVsZXNbIHRoaXMgXVsgMSBdICkgXTtcblx0XHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHJ1bGVzWyB0aGlzIF0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdFx0cGFydHMgPSBydWxlc1sgdGhpcyBdLnJlcGxhY2UoIC9bXFxbXFxdXS9nLCBcIlwiICkuc3BsaXQoIC9bXFxzLF0rLyApO1xuXHRcdFx0XHRcdHJ1bGVzWyB0aGlzIF0gPSBbIE51bWJlciggcGFydHNbIDAgXSApLCBOdW1iZXIoIHBhcnRzWyAxIF0gKSBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0aWYgKCAkLnZhbGlkYXRvci5hdXRvQ3JlYXRlUmFuZ2VzICkge1xuXG5cdFx0XHQvLyBBdXRvLWNyZWF0ZSByYW5nZXNcblx0XHRcdGlmICggcnVsZXMubWluICE9IG51bGwgJiYgcnVsZXMubWF4ICE9IG51bGwgKSB7XG5cdFx0XHRcdHJ1bGVzLnJhbmdlID0gWyBydWxlcy5taW4sIHJ1bGVzLm1heCBdO1xuXHRcdFx0XHRkZWxldGUgcnVsZXMubWluO1xuXHRcdFx0XHRkZWxldGUgcnVsZXMubWF4O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBydWxlcy5taW5sZW5ndGggIT0gbnVsbCAmJiBydWxlcy5tYXhsZW5ndGggIT0gbnVsbCApIHtcblx0XHRcdFx0cnVsZXMucmFuZ2VsZW5ndGggPSBbIHJ1bGVzLm1pbmxlbmd0aCwgcnVsZXMubWF4bGVuZ3RoIF07XG5cdFx0XHRcdGRlbGV0ZSBydWxlcy5taW5sZW5ndGg7XG5cdFx0XHRcdGRlbGV0ZSBydWxlcy5tYXhsZW5ndGg7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJ1bGVzO1xuXHR9LFxuXG5cdC8vIENvbnZlcnRzIGEgc2ltcGxlIHN0cmluZyB0byBhIHtzdHJpbmc6IHRydWV9IHJ1bGUsIGUuZy4sIFwicmVxdWlyZWRcIiB0byB7cmVxdWlyZWQ6dHJ1ZX1cblx0bm9ybWFsaXplUnVsZTogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHZhciB0cmFuc2Zvcm1lZCA9IHt9O1xuXHRcdFx0JC5lYWNoKCBkYXRhLnNwbGl0KCAvXFxzLyApLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dHJhbnNmb3JtZWRbIHRoaXMgXSA9IHRydWU7XG5cdFx0XHR9ICk7XG5cdFx0XHRkYXRhID0gdHJhbnNmb3JtZWQ7XG5cdFx0fVxuXHRcdHJldHVybiBkYXRhO1xuXHR9LFxuXG5cdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvalF1ZXJ5LnZhbGlkYXRvci5hZGRNZXRob2QvXG5cdGFkZE1ldGhvZDogZnVuY3Rpb24oIG5hbWUsIG1ldGhvZCwgbWVzc2FnZSApIHtcblx0XHQkLnZhbGlkYXRvci5tZXRob2RzWyBuYW1lIF0gPSBtZXRob2Q7XG5cdFx0JC52YWxpZGF0b3IubWVzc2FnZXNbIG5hbWUgXSA9IG1lc3NhZ2UgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UgOiAkLnZhbGlkYXRvci5tZXNzYWdlc1sgbmFtZSBdO1xuXHRcdGlmICggbWV0aG9kLmxlbmd0aCA8IDMgKSB7XG5cdFx0XHQkLnZhbGlkYXRvci5hZGRDbGFzc1J1bGVzKCBuYW1lLCAkLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKCBuYW1lICkgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9qUXVlcnkudmFsaWRhdG9yLm1ldGhvZHMvXG5cdG1ldGhvZHM6IHtcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvcmVxdWlyZWQtbWV0aG9kL1xuXHRcdHJlcXVpcmVkOiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIHBhcmFtICkge1xuXG5cdFx0XHQvLyBDaGVjayBpZiBkZXBlbmRlbmN5IGlzIG1ldFxuXHRcdFx0aWYgKCAhdGhpcy5kZXBlbmQoIHBhcmFtLCBlbGVtZW50ICkgKSB7XG5cdFx0XHRcdHJldHVybiBcImRlcGVuZGVuY3ktbWlzbWF0Y2hcIjtcblx0XHRcdH1cblx0XHRcdGlmICggZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInNlbGVjdFwiICkge1xuXG5cdFx0XHRcdC8vIENvdWxkIGJlIGFuIGFycmF5IGZvciBzZWxlY3QtbXVsdGlwbGUgb3IgYSBzdHJpbmcsIGJvdGggYXJlIGZpbmUgdGhpcyB3YXlcblx0XHRcdFx0dmFyIHZhbCA9ICQoIGVsZW1lbnQgKS52YWwoKTtcblx0XHRcdFx0cmV0dXJuIHZhbCAmJiB2YWwubGVuZ3RoID4gMDtcblx0XHRcdH1cblx0XHRcdGlmICggdGhpcy5jaGVja2FibGUoIGVsZW1lbnQgKSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0TGVuZ3RoKCB2YWx1ZSwgZWxlbWVudCApID4gMDtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlLmxlbmd0aCA+IDA7XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvZW1haWwtbWV0aG9kL1xuXHRcdGVtYWlsOiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cblx0XHRcdC8vIEZyb20gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCN2YWxpZC1lLW1haWwtYWRkcmVzc1xuXHRcdFx0Ly8gUmV0cmlldmVkIDIwMTQtMDEtMTRcblx0XHRcdC8vIElmIHlvdSBoYXZlIGEgcHJvYmxlbSB3aXRoIHRoaXMgaW1wbGVtZW50YXRpb24sIHJlcG9ydCBhIGJ1ZyBhZ2FpbnN0IHRoZSBhYm92ZSBzcGVjXG5cdFx0XHQvLyBPciB1c2UgY3VzdG9tIG1ldGhvZHMgdG8gaW1wbGVtZW50IHlvdXIgb3duIGVtYWlsIHZhbGlkYXRpb25cblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL15bYS16QS1aMC05LiEjJCUmJyorXFwvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC8udGVzdCggdmFsdWUgKTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy91cmwtbWV0aG9kL1xuXHRcdHVybDogZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXG5cdFx0XHQvLyBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMyBEaWVnbyBQZXJpbmksIE1JVCBsaWNlbnNlZFxuXHRcdFx0Ly8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZHBlcmluaS83MjkyOTRcblx0XHRcdC8vIHNlZSBhbHNvIGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleFxuXHRcdFx0Ly8gbW9kaWZpZWQgdG8gYWxsb3cgcHJvdG9jb2wtcmVsYXRpdmUgVVJMc1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAvXig/Oig/Oig/Omh0dHBzP3xmdHApOik/XFwvXFwvKSg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKS4/KSg/OjpcXGR7Miw1fSk/KD86Wy8/I11cXFMqKT8kL2kudGVzdCggdmFsdWUgKTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9kYXRlLW1ldGhvZC9cblx0XHRkYXRlOiAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNhbGxlZCA9IGZhbHNlO1xuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXHRcdFx0XHRpZiAoICFjYWxsZWQgKSB7XG5cdFx0XHRcdFx0Y2FsbGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3MuZGVidWcgJiYgd2luZG93LmNvbnNvbGUgKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0XHRcdFwiVGhlIGBkYXRlYCBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gJzIuMC4wJy5cXG5cIiArXG5cdFx0XHRcdFx0XHRcdFwiUGxlYXNlIGRvbid0IHVzZSBpdCwgc2luY2UgaXQgcmVsaWVzIG9uIHRoZSBEYXRlIGNvbnN0cnVjdG9yLCB3aGljaFxcblwiICtcblx0XHRcdFx0XHRcdFx0XCJiZWhhdmVzIHZlcnkgZGlmZmVyZW50bHkgYWNyb3NzIGJyb3dzZXJzIGFuZCBsb2NhbGVzLiBVc2UgYGRhdGVJU09gXFxuXCIgK1xuXHRcdFx0XHRcdFx0XHRcImluc3RlYWQgb3Igb25lIG9mIHRoZSBsb2NhbGUgc3BlY2lmaWMgbWV0aG9kcyBpbiBgbG9jYWxpemF0aW9ucy9gXFxuXCIgK1xuXHRcdFx0XHRcdFx0XHRcImFuZCBgYWRkaXRpb25hbC1tZXRob2RzLmpzYC5cIlxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8ICEvSW52YWxpZHxOYU4vLnRlc3QoIG5ldyBEYXRlKCB2YWx1ZSApLnRvU3RyaW5nKCkgKTtcblx0XHRcdH07XG5cdFx0fSgpICksXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2RhdGVJU08tbWV0aG9kL1xuXHRcdGRhdGVJU086IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL15cXGR7NH1bXFwvXFwtXSgwP1sxLTldfDFbMDEyXSlbXFwvXFwtXSgwP1sxLTldfFsxMl1bMC05XXwzWzAxXSkkLy50ZXN0KCB2YWx1ZSApO1xuXHRcdH0sXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL251bWJlci1tZXRob2QvXG5cdFx0bnVtYmVyOiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IC9eKD86LT9cXGQrfC0/XFxkezEsM30oPzosXFxkezN9KSspPyg/OlxcLlxcZCspPyQvLnRlc3QoIHZhbHVlICk7XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvZGlnaXRzLW1ldGhvZC9cblx0XHRkaWdpdHM6IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL15cXGQrJC8udGVzdCggdmFsdWUgKTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9taW5sZW5ndGgtbWV0aG9kL1xuXHRcdG1pbmxlbmd0aDogZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50LCBwYXJhbSApIHtcblx0XHRcdHZhciBsZW5ndGggPSAkLmlzQXJyYXkoIHZhbHVlICkgPyB2YWx1ZS5sZW5ndGggOiB0aGlzLmdldExlbmd0aCggdmFsdWUsIGVsZW1lbnQgKTtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgbGVuZ3RoID49IHBhcmFtO1xuXHRcdH0sXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL21heGxlbmd0aC1tZXRob2QvXG5cdFx0bWF4bGVuZ3RoOiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIHBhcmFtICkge1xuXHRcdFx0dmFyIGxlbmd0aCA9ICQuaXNBcnJheSggdmFsdWUgKSA/IHZhbHVlLmxlbmd0aCA6IHRoaXMuZ2V0TGVuZ3RoKCB2YWx1ZSwgZWxlbWVudCApO1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCBsZW5ndGggPD0gcGFyYW07XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvcmFuZ2VsZW5ndGgtbWV0aG9kL1xuXHRcdHJhbmdlbGVuZ3RoOiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIHBhcmFtICkge1xuXHRcdFx0dmFyIGxlbmd0aCA9ICQuaXNBcnJheSggdmFsdWUgKSA/IHZhbHVlLmxlbmd0aCA6IHRoaXMuZ2V0TGVuZ3RoKCB2YWx1ZSwgZWxlbWVudCApO1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAoIGxlbmd0aCA+PSBwYXJhbVsgMCBdICYmIGxlbmd0aCA8PSBwYXJhbVsgMSBdICk7XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvbWluLW1ldGhvZC9cblx0XHRtaW46IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW0gKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IHZhbHVlID49IHBhcmFtO1xuXHRcdH0sXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL21heC1tZXRob2QvXG5cdFx0bWF4OiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIHBhcmFtICkge1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCB2YWx1ZSA8PSBwYXJhbTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9yYW5nZS1tZXRob2QvXG5cdFx0cmFuZ2U6IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW0gKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8ICggdmFsdWUgPj0gcGFyYW1bIDAgXSAmJiB2YWx1ZSA8PSBwYXJhbVsgMSBdICk7XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvc3RlcC1tZXRob2QvXG5cdFx0c3RlcDogZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50LCBwYXJhbSApIHtcblx0XHRcdHZhciB0eXBlID0gJCggZWxlbWVudCApLmF0dHIoIFwidHlwZVwiICksXG5cdFx0XHRcdGVycm9yTWVzc2FnZSA9IFwiU3RlcCBhdHRyaWJ1dGUgb24gaW5wdXQgdHlwZSBcIiArIHR5cGUgKyBcIiBpcyBub3Qgc3VwcG9ydGVkLlwiLFxuXHRcdFx0XHRzdXBwb3J0ZWRUeXBlcyA9IFsgXCJ0ZXh0XCIsIFwibnVtYmVyXCIsIFwicmFuZ2VcIiBdLFxuXHRcdFx0XHRyZSA9IG5ldyBSZWdFeHAoIFwiXFxcXGJcIiArIHR5cGUgKyBcIlxcXFxiXCIgKSxcblx0XHRcdFx0bm90U3VwcG9ydGVkID0gdHlwZSAmJiAhcmUudGVzdCggc3VwcG9ydGVkVHlwZXMuam9pbigpICksXG5cdFx0XHRcdGRlY2ltYWxQbGFjZXMgPSBmdW5jdGlvbiggbnVtICkge1xuXHRcdFx0XHRcdHZhciBtYXRjaCA9ICggXCJcIiArIG51bSApLm1hdGNoKCAvKD86XFwuKFxcZCspKT8kLyApO1xuXHRcdFx0XHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTnVtYmVyIG9mIGRpZ2l0cyByaWdodCBvZiBkZWNpbWFsIHBvaW50LlxuXHRcdFx0XHRcdHJldHVybiBtYXRjaFsgMSBdID8gbWF0Y2hbIDEgXS5sZW5ndGggOiAwO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0b0ludCA9IGZ1bmN0aW9uKCBudW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgucm91bmQoIG51bSAqIE1hdGgucG93KCAxMCwgZGVjaW1hbHMgKSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR2YWxpZCA9IHRydWUsXG5cdFx0XHRcdGRlY2ltYWxzO1xuXG5cdFx0XHQvLyBXb3JrcyBvbmx5IGZvciB0ZXh0LCBudW1iZXIgYW5kIHJhbmdlIGlucHV0IHR5cGVzXG5cdFx0XHQvLyBUT0RPIGZpbmQgYSB3YXkgdG8gc3VwcG9ydCBpbnB1dCB0eXBlcyBkYXRlLCBkYXRldGltZSwgZGF0ZXRpbWUtbG9jYWwsIG1vbnRoLCB0aW1lIGFuZCB3ZWVrXG5cdFx0XHRpZiAoIG5vdFN1cHBvcnRlZCApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBlcnJvck1lc3NhZ2UgKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVjaW1hbHMgPSBkZWNpbWFsUGxhY2VzKCBwYXJhbSApO1xuXG5cdFx0XHQvLyBWYWx1ZSBjYW4ndCBoYXZlIHRvbyBtYW55IGRlY2ltYWxzXG5cdFx0XHRpZiAoIGRlY2ltYWxQbGFjZXMoIHZhbHVlICkgPiBkZWNpbWFscyB8fCB0b0ludCggdmFsdWUgKSAlIHRvSW50KCBwYXJhbSApICE9PSAwICkge1xuXHRcdFx0XHR2YWxpZCA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IHZhbGlkO1xuXHRcdH0sXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2VxdWFsVG8tbWV0aG9kL1xuXHRcdGVxdWFsVG86IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW0gKSB7XG5cblx0XHRcdC8vIEJpbmQgdG8gdGhlIGJsdXIgZXZlbnQgb2YgdGhlIHRhcmdldCBpbiBvcmRlciB0byByZXZhbGlkYXRlIHdoZW5ldmVyIHRoZSB0YXJnZXQgZmllbGQgaXMgdXBkYXRlZFxuXHRcdFx0dmFyIHRhcmdldCA9ICQoIHBhcmFtICk7XG5cdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3Mub25mb2N1c291dCAmJiB0YXJnZXQubm90KCBcIi52YWxpZGF0ZS1lcXVhbFRvLWJsdXJcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0dGFyZ2V0LmFkZENsYXNzKCBcInZhbGlkYXRlLWVxdWFsVG8tYmx1clwiICkub24oIFwiYmx1ci52YWxpZGF0ZS1lcXVhbFRvXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQoIGVsZW1lbnQgKS52YWxpZCgpO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHRhcmdldC52YWwoKTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9yZW1vdGUtbWV0aG9kL1xuXHRcdHJlbW90ZTogZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50LCBwYXJhbSwgbWV0aG9kICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgKSB7XG5cdFx0XHRcdHJldHVybiBcImRlcGVuZGVuY3ktbWlzbWF0Y2hcIjtcblx0XHRcdH1cblxuXHRcdFx0bWV0aG9kID0gdHlwZW9mIG1ldGhvZCA9PT0gXCJzdHJpbmdcIiAmJiBtZXRob2QgfHwgXCJyZW1vdGVcIjtcblxuXHRcdFx0dmFyIHByZXZpb3VzID0gdGhpcy5wcmV2aW91c1ZhbHVlKCBlbGVtZW50LCBtZXRob2QgKSxcblx0XHRcdFx0dmFsaWRhdG9yLCBkYXRhLCBvcHRpb25EYXRhU3RyaW5nO1xuXG5cdFx0XHRpZiAoICF0aGlzLnNldHRpbmdzLm1lc3NhZ2VzWyBlbGVtZW50Lm5hbWUgXSApIHtcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1sgZWxlbWVudC5uYW1lIF0gPSB7fTtcblx0XHRcdH1cblx0XHRcdHByZXZpb3VzLm9yaWdpbmFsTWVzc2FnZSA9IHByZXZpb3VzLm9yaWdpbmFsTWVzc2FnZSB8fCB0aGlzLnNldHRpbmdzLm1lc3NhZ2VzWyBlbGVtZW50Lm5hbWUgXVsgbWV0aG9kIF07XG5cdFx0XHR0aGlzLnNldHRpbmdzLm1lc3NhZ2VzWyBlbGVtZW50Lm5hbWUgXVsgbWV0aG9kIF0gPSBwcmV2aW91cy5tZXNzYWdlO1xuXG5cdFx0XHRwYXJhbSA9IHR5cGVvZiBwYXJhbSA9PT0gXCJzdHJpbmdcIiAmJiB7IHVybDogcGFyYW0gfSB8fCBwYXJhbTtcblx0XHRcdG9wdGlvbkRhdGFTdHJpbmcgPSAkLnBhcmFtKCAkLmV4dGVuZCggeyBkYXRhOiB2YWx1ZSB9LCBwYXJhbS5kYXRhICkgKTtcblx0XHRcdGlmICggcHJldmlvdXMub2xkID09PSBvcHRpb25EYXRhU3RyaW5nICkge1xuXHRcdFx0XHRyZXR1cm4gcHJldmlvdXMudmFsaWQ7XG5cdFx0XHR9XG5cblx0XHRcdHByZXZpb3VzLm9sZCA9IG9wdGlvbkRhdGFTdHJpbmc7XG5cdFx0XHR2YWxpZGF0b3IgPSB0aGlzO1xuXHRcdFx0dGhpcy5zdGFydFJlcXVlc3QoIGVsZW1lbnQgKTtcblx0XHRcdGRhdGEgPSB7fTtcblx0XHRcdGRhdGFbIGVsZW1lbnQubmFtZSBdID0gdmFsdWU7XG5cdFx0XHQkLmFqYXgoICQuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdG1vZGU6IFwiYWJvcnRcIixcblx0XHRcdFx0cG9ydDogXCJ2YWxpZGF0ZVwiICsgZWxlbWVudC5uYW1lLFxuXHRcdFx0XHRkYXRhVHlwZTogXCJqc29uXCIsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdGNvbnRleHQ6IHZhbGlkYXRvci5jdXJyZW50Rm9ybSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdFx0XHRcdHZhciB2YWxpZCA9IHJlc3BvbnNlID09PSB0cnVlIHx8IHJlc3BvbnNlID09PSBcInRydWVcIixcblx0XHRcdFx0XHRcdGVycm9ycywgbWVzc2FnZSwgc3VibWl0dGVkO1xuXG5cdFx0XHRcdFx0dmFsaWRhdG9yLnNldHRpbmdzLm1lc3NhZ2VzWyBlbGVtZW50Lm5hbWUgXVsgbWV0aG9kIF0gPSBwcmV2aW91cy5vcmlnaW5hbE1lc3NhZ2U7XG5cdFx0XHRcdFx0aWYgKCB2YWxpZCApIHtcblx0XHRcdFx0XHRcdHN1Ym1pdHRlZCA9IHZhbGlkYXRvci5mb3JtU3VibWl0dGVkO1xuXHRcdFx0XHRcdFx0dmFsaWRhdG9yLnJlc2V0SW50ZXJuYWxzKCk7XG5cdFx0XHRcdFx0XHR2YWxpZGF0b3IudG9IaWRlID0gdmFsaWRhdG9yLmVycm9yc0ZvciggZWxlbWVudCApO1xuXHRcdFx0XHRcdFx0dmFsaWRhdG9yLmZvcm1TdWJtaXR0ZWQgPSBzdWJtaXR0ZWQ7XG5cdFx0XHRcdFx0XHR2YWxpZGF0b3Iuc3VjY2Vzc0xpc3QucHVzaCggZWxlbWVudCApO1xuXHRcdFx0XHRcdFx0dmFsaWRhdG9yLmludmFsaWRbIGVsZW1lbnQubmFtZSBdID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR2YWxpZGF0b3Iuc2hvd0Vycm9ycygpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlcnJvcnMgPSB7fTtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgPSByZXNwb25zZSB8fCB2YWxpZGF0b3IuZGVmYXVsdE1lc3NhZ2UoIGVsZW1lbnQsIHsgbWV0aG9kOiBtZXRob2QsIHBhcmFtZXRlcnM6IHZhbHVlIH0gKTtcblx0XHRcdFx0XHRcdGVycm9yc1sgZWxlbWVudC5uYW1lIF0gPSBwcmV2aW91cy5tZXNzYWdlID0gbWVzc2FnZTtcblx0XHRcdFx0XHRcdHZhbGlkYXRvci5pbnZhbGlkWyBlbGVtZW50Lm5hbWUgXSA9IHRydWU7XG5cdFx0XHRcdFx0XHR2YWxpZGF0b3Iuc2hvd0Vycm9ycyggZXJyb3JzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHByZXZpb3VzLnZhbGlkID0gdmFsaWQ7XG5cdFx0XHRcdFx0dmFsaWRhdG9yLnN0b3BSZXF1ZXN0KCBlbGVtZW50LCB2YWxpZCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBwYXJhbSApICk7XG5cdFx0XHRyZXR1cm4gXCJwZW5kaW5nXCI7XG5cdFx0fVxuXHR9XG5cbn0gKTtcblxyXG4vLyBBamF4IG1vZGU6IGFib3J0XG4vLyB1c2FnZTogJC5hamF4KHsgbW9kZTogXCJhYm9ydFwiWywgcG9ydDogXCJ1bmlxdWVwb3J0XCJdfSk7XG4vLyBpZiBtb2RlOlwiYWJvcnRcIiBpcyB1c2VkLCB0aGUgcHJldmlvdXMgcmVxdWVzdCBvbiB0aGF0IHBvcnQgKHBvcnQgY2FuIGJlIHVuZGVmaW5lZCkgaXMgYWJvcnRlZCB2aWEgWE1MSHR0cFJlcXVlc3QuYWJvcnQoKVxuXG52YXIgcGVuZGluZ1JlcXVlc3RzID0ge30sXG5cdGFqYXg7XG5cbi8vIFVzZSBhIHByZWZpbHRlciBpZiBhdmFpbGFibGUgKDEuNSspXG5pZiAoICQuYWpheFByZWZpbHRlciApIHtcblx0JC5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggc2V0dGluZ3MsIF8sIHhociApIHtcblx0XHR2YXIgcG9ydCA9IHNldHRpbmdzLnBvcnQ7XG5cdFx0aWYgKCBzZXR0aW5ncy5tb2RlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRpZiAoIHBlbmRpbmdSZXF1ZXN0c1sgcG9ydCBdICkge1xuXHRcdFx0XHRwZW5kaW5nUmVxdWVzdHNbIHBvcnQgXS5hYm9ydCgpO1xuXHRcdFx0fVxuXHRcdFx0cGVuZGluZ1JlcXVlc3RzWyBwb3J0IF0gPSB4aHI7XG5cdFx0fVxuXHR9ICk7XG59IGVsc2Uge1xuXG5cdC8vIFByb3h5IGFqYXhcblx0YWpheCA9ICQuYWpheDtcblx0JC5hamF4ID0gZnVuY3Rpb24oIHNldHRpbmdzICkge1xuXHRcdHZhciBtb2RlID0gKCBcIm1vZGVcIiBpbiBzZXR0aW5ncyA/IHNldHRpbmdzIDogJC5hamF4U2V0dGluZ3MgKS5tb2RlLFxuXHRcdFx0cG9ydCA9ICggXCJwb3J0XCIgaW4gc2V0dGluZ3MgPyBzZXR0aW5ncyA6ICQuYWpheFNldHRpbmdzICkucG9ydDtcblx0XHRpZiAoIG1vZGUgPT09IFwiYWJvcnRcIiApIHtcblx0XHRcdGlmICggcGVuZGluZ1JlcXVlc3RzWyBwb3J0IF0gKSB7XG5cdFx0XHRcdHBlbmRpbmdSZXF1ZXN0c1sgcG9ydCBdLmFib3J0KCk7XG5cdFx0XHR9XG5cdFx0XHRwZW5kaW5nUmVxdWVzdHNbIHBvcnQgXSA9IGFqYXguYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0cmV0dXJuIHBlbmRpbmdSZXF1ZXN0c1sgcG9ydCBdO1xuXHRcdH1cblx0XHRyZXR1cm4gYWpheC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdH07XG59XG5yZXR1cm4gJDtcclxufSkpOyIsIlxuKGZ1bmN0aW9uIChleHAsICQsIHdwX3Zhcikge1xuXG4gICAgZnVuY3Rpb24gTWVzc2FnZUZvcm0ob3B0aW9uKSB7XG5cbiAgICAgICAgdmFyICRidXR0b25TZW5kID0gJCgnLm1lc3NhZ2UtZm9ybS1idG4tc2VuZC1tZXNzYWdlJyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICRlbGVtZW50OiBvcHRpb24uZWxlbWVudCxcbiAgICAgICAgICAgIGZvcm1EYXRhOiB7XG4gICAgICAgICAgICAgICAgbWFpbFR5cGU6ICdjb250YWN0X2Zvcm1fbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgZm9ybV9kYXRhOiB7fVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiAoc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmZvcm1EYXRhLmZvcm1fZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICQuZWFjaChzZWxmLiRlbGVtZW50LnNlcmlhbGl6ZUFycmF5KCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5mb3JtRGF0YS5mb3JtX2RhdGFbdGhpcy5uYW1lXSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogd3BfdmFyLmFqYXh1cmwgKyAnP2FjdGlvbj1zZW5kX21haWwnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShzZWxmLmZvcm1EYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZW5kTWVzc2FnZVN1Y2Nlc3MoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyAmJiBzdWNjZXNzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NlbmRNZXNzYWdlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NlbmRNZXNzYWdlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yICYmIGVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIF9zZW5kTWVzc2FnZVN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRidXR0b25TZW5kLm9mZignY2xpY2snKTtcbiAgICAgICAgICAgICAgICAkYnV0dG9uU2VuZC5hZGRDbGFzcygnaXMtdmFsaWQnKTtcblxuICAgICAgICAgICAgICAgICQobG9jYXRpb24pLmF0dHIoJ2hyZWYnLCB3aW5kb3cubG9jYXRpb24uaHJlZi5tYXRjaCgvXi4qXFwvLykgKyAnL21lc3NhZ2Utc3VjY2Vzc2Z1bGx5LXNlbnQnKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIF9zZW5kTWVzc2FnZUVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkYnV0dG9uU2VuZC5hZGRDbGFzcygnaXMtaW52YWxpZCcpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygnd2FzLXZhbGlkYXRlZCcpO1xuICAgICAgICAgICAgfSxcblxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoJCkge1xuXG4gICAgICAgICQoXCIjbWVzc2FnZS1mb3JtXCIpLnN1Ym1pdChmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiI21lc3NhZ2UtZm9ybVwiKS52YWxpZGF0ZSh7XG4gICAgICAgICAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbihmb3JtKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUZvcm0gPSBuZXcgTWVzc2FnZUZvcm0oe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAkKCcjbWVzc2FnZS1mb3JtJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlRm9ybS5zZW5kTWVzc2FnZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bGVzOiB7XG4gICAgICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJQbGVhc2UgZW50ZXIgeW91ciBuYW1lXCIsXG4gICAgICAgICAgICAgICAgZW1haWw6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlBsZWFzZSBlbnRlciB5b3VyIG1lc3NhZ2VcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG5cblxufSkod2luZG93LCBqUXVlcnksIHdwX3Zhcik7XG4iXX0=
